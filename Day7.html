<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Power BI Day 7 - Advanced DAX Functions</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            margin-bottom: 30px;
            text-align: center;
        }

        header h1 {
            color: #fa709a;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        header p {
            color: #666;
            font-size: 1.2em;
        }

        .day-info {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 15px;
            margin: 20px 0;
        }

        .info-card {
            background: #f8f9fa;
            padding: 15px 25px;
            border-radius: 10px;
            border-left: 4px solid #fee140;
        }

        .info-card strong {
            color: #fa709a;
        }

        nav {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 5px;
        }

        nav button {
            background: #fa709a;
            color: white;
            border: none;
            padding: 12px 20px;
            margin: 5px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 15px;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        nav button:hover {
            background: #e55d87;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        nav button.active {
            background: #fee140;
            color: #333;
        }

        .content-section {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            margin-bottom: 30px;
            display: none;
        }

        .content-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h2 {
            color: #fa709a;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #fee140;
        }

        h3 {
            color: #e55d87;
            margin-top: 25px;
            margin-bottom: 15px;
        }

        h4 {
            color: #fa709a;
            margin-bottom: 10px;
        }

        .theory-box {
            background: #f8f9fa;
            padding: 20px;
            border-left: 5px solid #fa709a;
            margin: 20px 0;
            border-radius: 5px;
        }

        .important {
            background: #fff3cd;
            padding: 15px;
            border-left: 5px solid #ffc107;
            margin: 20px 0;
            border-radius: 5px;
        }

        .note {
            background: #d1ecf1;
            padding: 15px;
            border-left: 5px solid #17a2b8;
            margin: 20px 0;
            border-radius: 5px;
        }

        .tip {
            background: #d4edda;
            padding: 15px;
            border-left: 5px solid #28a745;
            margin: 20px 0;
            border-radius: 5px;
        }

        .warning {
            background: #f8d7da;
            padding: 15px;
            border-left: 5px solid #dc3545;
            margin: 20px 0;
            border-radius: 5px;
        }

        .diagram {
            background: #f0f0f0;
            padding: 30px;
            margin: 20px 0;
            border-radius: 10px;
            text-align: center;
        }

        .practical-task {
            background: #fff5f8;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            border: 2px dashed #fa709a;
        }

        .task-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .task-number {
            background: #fa709a;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            box-shadow: 0 3px 10px rgba(250, 112, 154, 0.3);
        }

        .steps {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
        }

        .steps ol,
        .steps ul {
            margin-left: 20px;
        }

        .steps li {
            margin: 10px 0;
            padding-left: 10px;
        }

        ul {
            margin-left: 20px;
        }

        ul li {
            margin: 8px 0;
        }

        .download-section {
            background: #28a745;
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }

        .download-btn {
            background: white;
            color: #28a745;
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
        }

        .download-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #fa709a;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(250, 112, 154, 0.2);
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 12px;
            border: 1px solid #ddd;
            text-align: left;
        }

        .comparison-table th {
            background: #fa709a;
            color: white;
        }

        .comparison-table tr:nth-child(even) {
            background: #f8f9fa;
        }

        .comparison-table tbody tr:hover {
            background: #fff5f8;
            transition: background 0.3s ease;
        }

        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            color: #d63384;
            font-size: 0.95em;
        }

        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
            position: relative;
        }

        .code-block code {
            background: transparent;
            color: #f8f8f2;
            padding: 0;
            white-space: pre;
            display: block;
        }

        .code-block::before {
            /* content: 'DAX'; */
            position: absolute;
            top: 5px;
            right: 10px;
            background: #fa709a;
            color: white;
            padding: 2px 8px;
            border-radius: 3px;
            font-size: 0.75em;
            font-weight: bold;
        }

        .code-block.error {
            background: #fff5f5;
            border: 2px solid #dc3545;
            color: #333;
        }

        .code-block.error code {
            color: #dc3545;
        }

        .example-box {
            background: white;
            border: 2px solid #fa709a;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .example-box:hover {
            box-shadow: 0 5px 15px rgba(250, 112, 154, 0.2);
            transition: box-shadow 0.3s ease;
        }

        .comparison-visual {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .function-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .function-card {
            background: #fff5f8;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #fa709a;
            transition: all 0.3s ease;
        }

        .function-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(250, 112, 154, 0.2);
        }

        .function-card h4 {
            color: #fa709a;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        footer {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-top: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        footer h3 {
            color: #fa709a;
        }

        .next-day-btn {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 10px;
            transition: all 0.3s ease;
        }

        .next-day-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .progress-bar {
            background: #e0e0e0;
            height: 8px;
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #fa709a 0%, #fee140 100%);
            height: 100%;
            width: 70%;
            transition: width 0.3s ease;
        }

        /* Context boxes for evaluation context */
        .context-box {
            margin: 15px 0;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            header h1 {
                font-size: 1.8em;
            }

            nav button {
                padding: 10px 15px;
                font-size: 13px;
            }

            .content-section {
                padding: 20px;
            }

            .comparison-visual {
                grid-template-columns: 1fr;
            }

            .feature-grid,
            .function-grid {
                grid-template-columns: 1fr;
            }

            .day-info {
                flex-direction: column;
            }
        }

        /* Print Styles */
        @media print {
            body {
                background: white;
            }

            nav,
            footer,
            .next-day-btn,
            .download-section {
                display: none;
            }

            .content-section {
                display: block !important;
                page-break-inside: avoid;
            }

            .practical-task {
                page-break-inside: avoid;
            }
        }

        /* Accessibility */
        button:focus,
        .download-btn:focus,
        .next-day-btn:focus {
            outline: 3px solid #fa709a;
            outline-offset: 2px;
        }

        /* Smooth Scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        ::-webkit-scrollbar-thumb {
            background: #fa709a;
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #e55d87;
        }

        /* Selection Highlight */
        ::selection {
            background: #fee140;
            color: #333;
        }

        ::-moz-selection {
            background: #fee140;
            color: #333;
        }

        /* Loading Animation */
        @keyframes pulse {

            0%,
            100% {
                opacity: 1;
            }

            50% {
                opacity: 0.5;
            }
        }

        .loading {
            animation: pulse 2s infinite;
        }

        /* Hover Effects */
        .theory-box:hover,
        .example-box:hover {
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: box-shadow 0.3s ease;
        }

        /* Card Hover Effect */
        .info-card:hover {
            transform: translateY(-2px);
            transition: transform 0.3s ease;
        }

        /* Checklist Styles */
        .checklist {
            margin-top: 20px;
        }

        .checklist-item {
            display: flex;
            align-items: center;
            background: white;
            padding: 15px;
            border: 1px solid #eee;
            margin-bottom: 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .checklist-item:hover {
            transform: translateX(5px);
            border-color: #fa709a;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid #ddd;
            border-radius: 50%;
            margin-right: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: all 0.2s ease;
        }

        /* Enhanced List Styling */

        .steps ol li strong,
        .steps ul li strong {
            color: #fa709a;
        }

        /* Code Block Variants */
        .code-block.highlight {
            border-left: 4px solid #fee140;
        }

        /* Special styling for complex code blocks */
        .code-block pre {
            margin: 0;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        /* Grid improvements for better spacing */
        .function-grid .function-card,
        .feature-grid .feature-card {
            min-height: 200px;
            display: flex;
            flex-direction: column;
        }

        /* Button group for navigation */
        nav {
            background: white;
        }

        /* Enhanced table styling */
        .comparison-table {
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            overflow: hidden;
        }

        /* Syntax highlighting for DAX keywords */
        .code-block .keyword {
            color: #66d9ef;
        }

        .code-block .function {
            color: #a6e22e;
        }

        .code-block .string {
            color: #e6db74;
        }

        .code-block .comment {
            color: #75715e;
            font-style: italic;
        }

        /* Enhanced warning and tip boxes */
        .warning::before {
            content: "‚ö†Ô∏è ";
            font-size: 1.2em;
        }

        .tip::before {
            content: "üí° ";
            font-size: 1.2em;
        }

        .important::before {
            content: "‚ö° ";
            font-size: 1.2em;
        }

        .note::before {
            content: "üìù ";
            font-size: 1.2em;
        }

        /* Improved spacing for nested lists */
        .steps ul ul,
        .steps ol ul,
        .steps ul ol,
        .steps ol ol {
            margin-top: 5px;
            margin-bottom: 5px;
        }

        /* Better visual hierarchy */
        h2 {
            font-size: 2em;
        }

        h3 {
            font-size: 1.5em;
        }

        h4 {
            font-size: 1.2em;
        }

        /* Smooth transitions for all interactive elements */
        button,
        .download-btn,
        .next-day-btn,
        .feature-card,
        .function-card {
            transition: all 0.3s ease;
        }

        /* Enhanced shadow for elevated elements */
        .content-section {
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
        }

        /* Better mobile navigation */
        @media (max-width: 480px) {
            nav button {
                padding: 8px 12px;
                font-size: 12px;
                margin: 3px;
            }

            .task-number {
                width: 35px;
                height: 35px;
                font-size: 0.9em;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1>üìä Power BI Training - Day 7</h1>
            <p>Advanced DAX Functions & Time Intelligence</p>
            <div class="day-info">
                <div class="info-card">
                    <strong>Duration:</strong> 3 Hours
                </div>
                <div class="info-card">
                    <strong>Theory:</strong> 1.5 Hours
                </div>
                <div class="info-card">
                    <strong>Practical:</strong> 1.5 Hours
                </div>
                <div class="info-card">
                    <strong>Level:</strong> Advanced
                </div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill"></div>
            </div>
            <p style="color: #666; font-size: 0.9em; margin-top: 10px;">Course Progress: Day 7 of 10 (70%)</p>
        </header>

        <nav>
            <button class="nav-btn active" data-section="overview">üìã Overview</button>
            <button class="nav-btn" data-section="datetime">üìÖ Date & Time</button>
            <button class="nav-btn" data-section="conditional">üîÄ Conditional Logic</button>
            <button class="nav-btn" data-section="calculate">‚ö° CALCULATE</button>
            <button class="nav-btn" data-section="iterators">üîÑ Iterators</button>
            <button class="nav-btn" data-section="timeintel">‚è∞ Time Intelligence</button>
            <button class="nav-btn" data-section="practical">üî® Practical Lab</button>
            <button class="nav-btn" data-section="tasks">‚úÖ Tasks</button>
            <button class="nav-btn" data-section="resources">üì¶ Resources</button>
        </nav>

        <!-- Overview Section -->
        <div class="content-section active" id="overview">
            <h2>üìã Day 7 Overview</h2>

            <div class="theory-box">
                <h3>Learning Objectives</h3>
                <p>By the end of Day 7, students will be able to:</p>
                <ul>
                    <li>Work with advanced date and time functions in DAX</li>
                    <li>Create complex conditional logic using IF, SWITCH, and nested conditions</li>
                    <li>Use text manipulation functions effectively</li>
                    <li>Master the CALCULATE function - the most powerful DAX function</li>
                    <li>Understand and use FILTER, ALL, and ALLEXCEPT</li>
                    <li>Work with iterator functions (SUMX, AVERAGEX, etc.)</li>
                    <li>Implement time intelligence formulas (YTD, MTD, PY, etc.)</li>
                    <li>Build complex business calculations</li>
                    <li>Optimize DAX performance</li>
                </ul>
            </div>

            <h3>üìÖ Session Structure</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>Part 1: Date & Conditional (20 min)</h4>
                    <ul>
                        <li>Advanced date functions</li>
                        <li>SWITCH vs nested IF</li>
                        <li>Complex conditional logic</li>
                        <li>Text functions</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>Part 2: CALCULATE Function (30 min)</h4>
                    <ul>
                        <li>Understanding CALCULATE</li>
                        <li>Filter modification</li>
                        <li>ALL and ALLEXCEPT</li>
                        <li>Context transition</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>Part 3: Iterators & Time Intel (40 min)</h4>
                    <ul>
                        <li>Iterator functions (X functions)</li>
                        <li>Time intelligence basics</li>
                        <li>YTD, QTD, MTD formulas</li>
                        <li>Period comparisons</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>Part 4: Hands-On Lab (90 min)</h4>
                    <ul>
                        <li>Build complex measures</li>
                        <li>Time intelligence practice</li>
                        <li>Real-world scenarios</li>
                        <li>Performance optimization</li>
                    </ul>
                </div>
            </div>

            <div class="important">
                <strong>‚ö†Ô∏è Prerequisites:</strong> Completed Day 6, comfortable with basic DAX functions and syntax
            </div>

            <div class="tip">
                <strong>üí° Today's Mission:</strong> Master CALCULATE and Time Intelligence - these are the functions
                that make Power BI incredibly powerful for business analytics!
            </div>
        </div>

        <!-- Date & Time Functions Section -->
        <div class="content-section" id="datetime">
            <h2>üìÖ Advanced Date and Time Functions</h2>

            <h3>Date Functions Library</h3>

            <div class="function-grid">
                <div class="function-card">
                    <h4>TODAY() & NOW()</h4>
                    <p><strong>Purpose:</strong> Get current date/time</p>
                    <div class="code-block">
                        <code>Days Since Order = DATEDIFF(Table1[Order Date], TODAY(), DAY)</code>
                    </div>
                    <p style="font-size: 0.9em; margin-top: 10px;"><strong>Note:</strong> Updates on refresh</p>
                </div>

                <div class="function-card">
                    <h4>DATEDIFF</h4>
                    <p><strong>Purpose:</strong> Calculate difference between dates</p>
                    <div class="code-block">
                        <code>Lead Time = DATEDIFF(Table1[Order Date], Table1[Ship Date], DAY)</code>
                    </div>
                    <p style="font-size: 0.9em; margin-top: 10px;"><strong>Intervals:</strong> YEAR, QUARTER, MONTH,
                        DAY, HOUR, MINUTE, SECOND</p>
                </div>

                <div class="function-card">
                    <h4>YEAR, MONTH, DAY</h4>
                    <p><strong>Purpose:</strong> Extract date components</p>
                    <div class="code-block">
                        <code>Order Year = YEAR(Table1[Order Date])</code>
                        <code>Order Month = MONTH(Table1[Order Date])</code>
                        <code>Order Day = DAY(Table1[Order Date])</code>
                    </div>
                </div>

                <div class="function-card">
                    <h4>WEEKDAY & WEEKNUM</h4>
                    <p><strong>Purpose:</strong> Get day of week or week number</p>
                    <div class="code-block">
                        <code>Day of Week = WEEKDAY('Date Table'[Date], 2)</code>
                    </div>
                    <p style="font-size: 0.9em; margin-top: 10px;">Return type: 2 = Monday as 1, Sunday as 7</p>
                </div>

                <div class="function-card">
                    <h4>EOMONTH</h4>
                    <p><strong>Purpose:</strong> End of month</p>
                    <div class="code-block">
                        <code>Month End = EOMONTH(Date[Date], 0)</code>
                    </div>
                    <p style="font-size: 0.9em; margin-top: 10px;">Second parameter: 0 = this month, 1 = next month, -1
                        = previous month</p>
                </div>

                <div class="function-card">
                    <h4>DATE</h4>
                    <p><strong>Purpose:</strong> Create date from components</p>
                    <div class="code-block">
                        <code>Custom Date = DATE(2024, 12, 31)</code>
                    </div>
                    <p style="font-size: 0.9em; margin-top: 10px;">Parameters: Year, Month, Day</p>
                </div>
            </div>

            <h3>Practical Date Examples</h3>
            <div class="example-box">
                <h4>Example 1: Long Pending Orders</h4>
                <div class="code-block">
                    <code>Pending Days = DATEDIFF(Table1[Order Date], TODAY(), DAY)</code>
                </div>
                <p style="margin-top: 10px;"><strong>Use case:</strong> Track how long ago an order was placed</p>
            </div>

            <div class="example-box">
                <h4>Example 2: Is Weekend?</h4>
                <div class="code-block">
                    <code>Is Weekend = IF(WEEKDAY('Date Table'[Date], 2) >= 6, "Weekend", "Weekday")</code>
                </div>
                <p style="margin-top: 10px;"><strong>Use case:</strong> Analyze weekend vs weekday sales</p>
            </div>

            <div class="example-box">
                <h4>Example 3: Quarter Label</h4>
                <div class="code-block">
                    <code>Quarter = "Q" & QUARTER('Date Table'[Date])</code>
                </div>
                <p style="margin-top: 10px;"><strong>Result:</strong> Q1, Q2, Q3, Q4</p>
            </div>

            <div class="example-box">
                <h4>Example 4: Days to Ship</h4>
                <div class="code-block">
                    <code>Days to Ship = DATEDIFF(Table1[Order Date], Table1[Ship Date], DAY)</code>
                </div>
                <p style="margin-top: 10px;"><strong>Use case:</strong> Track shipping efficiency</p>
            </div>

            <h3>Text Functions</h3>
            <div class="function-grid">
                <div class="function-card">
                    <h4>CONCATENATE / &</h4>
                    <p><strong>Purpose:</strong> Combine text</p>
                    <div class="code-block">
                        <code>Product Full Info = Table1[Category] & " - " & Table1[Product]</code>
                        <code>Category Code = CONCATENATE(LEFT(Table1[Category], 3), " - " & Table1[Product])</code>
                    </div>
                </div>

                <div class="function-card">
                    <h4>UPPER, LOWER, PROPER</h4>
                    <p><strong>Purpose:</strong> Change text case</p>
                    <div class="code-block">
                        <code>Upper Product = UPPER(Table1[Product])</code>
                        <code>Proper Category = PROPER(Table1[Category])</code>
                    </div>
                </div>

                <div class="function-card">
                    <h4>LEFT, RIGHT, MID</h4>
                    <p><strong>Purpose:</strong> Extract portions of text</p>
                    <div class="code-block">
                        <code>Region Code = LEFT(Table1[Region], 1)</code>
                        <code>Order Num = MID(Table1[Order ID], 5, 5)</code>
                    </div>
                </div>

                <div class="function-card">
                    <h4>LEN</h4>
                    <p><strong>Purpose:</strong> Get text length</p>
                    <div class="code-block">
                        <code>Product Length = LEN(Table1[Product])</code>
                    </div>
                </div>

                <div class="function-card">
                    <h4>SUBSTITUTE</h4>
                    <p><strong>Purpose:</strong> Replace text</p>
                    <div class="code-block">
                        <code>Clean ID = SUBSTITUTE(Table1[Order ID], "ORD-", "")</code>
                    </div>
                </div>

                <div class="function-card">
                    <h4>FORMAT</h4>
                    <p><strong>Purpose:</strong> Format numbers/dates as text</p>
                    <div class="code-block">
                        <code>Month Year = FORMAT('Date Table'[Date], "MMM YYYY")</code>
                        <code>Currency Sales = FORMAT(SUM(Table1[Sales]), "$#,##0.00")</code>
                    </div>
                </div>
            </div>
        </div>

        <!-- Conditional Logic Section -->
        <div class="content-section" id="conditional">
            <h2>üîÄ Advanced Conditional & Logical Functions</h2>

            <h3>Nested IF Statements</h3>
            <div class="theory-box">
                <p><strong>When to use:</strong> Multiple conditions to evaluate in sequence</p>
                <p><strong>Structure:</strong> IF(condition1, result1, IF(condition2, result2, IF(condition3, result3,
                    else_result)))</p>
            </div>

            <div class="example-box">
                <h4>Example: Customer Tier Classification</h4>
                <div class="code-block">
                    <code>Sales Performance = 
IF(
    SUM(Table1[Sales]) >= 10000, "Excellent",
    IF(
        SUM(Table1[Sales]) >= 5000, "Good",
        IF(
            SUM(Table1[Sales]) >= 1000, "Average",
            "Low"
        )
    )
)</code>
                </div>
            </div>

            <div class="warning">
                <strong>‚ö†Ô∏è Nested IF Limits:</strong> While DAX allows deep nesting, more than 3-4 levels becomes hard
                to read and maintain. Use SWITCH instead!
            </div>

            <h3>SWITCH Function - Better Than Nested IF</h3>
            <div class="theory-box">
                <p><strong>Advantage:</strong> Cleaner, more readable code for multiple conditions</p>
                <p><strong>Syntax:</strong> SWITCH(expression, value1, result1, value2, result2, ..., else_result)</p>
            </div>

            <div class="example-box">
                <h4>Example 1: Region Name Lookup</h4>
                <div class="code-block">
                    <code>Region Category = SWITCH(
    Table1[Region],
    "North", "Northern Territory",
    "South", "Southern Territory",
    "East", "Eastern Territory",
    "West", "Western Territory",
    "Central", "Central Territory",
    "Unknown"
)</code>
                </div>
            </div>

            <div class="example-box">
                <h4>Example 2: Performance Rating</h4>
                <div class="code-block">
                    <code>Profit Rating = SWITCH(
    TRUE(),
    SUM(Table1[Profit]) >= 100, "High Profit",
    SUM(Table1[Profit]) >= 50, "Medium Profit",
    SUM(Table1[Profit]) >= 0, "Low Profit",
    "Loss"
)</code>
                </div>
                <p style="margin-top: 10px;"><strong>Note:</strong> SWITCH(TRUE(), ...) allows using comparison
                    operators</p>
            </div>

            <h3>AND, OR, NOT Functions</h3>
            <div class="function-grid">
                <div class="function-card">
                    <h4>AND</h4>
                    <p><strong>Purpose:</strong> All conditions must be true</p>
                    <div class="code-block">
                        <code>High Priority Order = 
IF(
    AND(
        Table1[Sales] > 500,
        Table1[Category] = "Technology",
        Table1[Quantity] >= 5
    ),
    "High",
    "Normal"
)</code>
                    </div>
                </div>

                <div class="function-card">
                    <h4>OR</h4>
                    <p><strong>Purpose:</strong> At least one condition must be true</p>
                    <div class="code-block">
                        <code>Discount Eligible = 
IF(
    OR(
        Table1[Sales] > 1000,
        Table1[Category] = "Electronics",
        Table1[Quantity] > 10
    ),
    "Yes",
    "No"
)</code>
                    </div>
                </div>

                <div class="function-card">
                    <h4>NOT</h4>
                    <p><strong>Purpose:</strong> Reverse a logical value</p>
                    <div class="code-block">
                        <code>Not Shipped = 
IF(
    NOT([Status] = "Shipped"),
    "Pending",
    "Complete"
)</code>
                    </div>
                </div>
            </div>

            <h3>IFERROR & ISBLANK</h3>
            <div class="function-grid">
                <div class="function-card">
                    <h4>IFERROR</h4>
                    <p><strong>Purpose:</strong> Handle errors gracefully</p>
                    <div class="code-block">
                        <code>Safe Division = IFERROR(
    [Numerator] / [Denominator],
    0
)</code>
                    </div>
                    <p style="font-size: 0.9em; margin-top: 10px;"><strong>Better:</strong> Use DIVIDE function instead!
                    </p>
                </div>

                <div class="function-card">
                    <h4>ISBLANK</h4>
                    <p><strong>Purpose:</strong> Check for blank values</p>
                    <div class="code-block">
                        <code>Has Phone = IF(
    ISBLANK([PhoneNumber]),
    "No",
    "Yes"
)</code>
                    </div>
                </div>
            </div>
        </div>

        <!-- CALCULATE Section -->
        <div class="content-section" id="calculate">
            <h2>‚ö° CALCULATE - The Most Powerful DAX Function</h2>

            <h3>What is CALCULATE?</h3>
            <div class="theory-box">
                <p><strong>CALCULATE</strong> is the most important function in DAX. It modifies the filter context in
                    which an expression is evaluated.</p>

                <p style="margin-top: 15px;"><strong>Syntax:</strong></p>
                <div class="code-block">
                    <code>CALCULATE(expression, filter1, filter2, ...)</code>
                </div>

                <p style="margin-top: 15px;"><strong>What it does:</strong></p>
                <ul>
                    <li>Evaluates an expression</li>
                    <li>Applies specified filters</li>
                    <li>Can override existing filters</li>
                    <li>Can add new filters</li>
                </ul>
            </div>

            <h3>Basic CALCULATE Examples</h3>
            <div class="example-box">
                <h4>Example 1: Sales for Specific Product</h4>
                <div class="code-block">
                    <code>Electronics Sales := CALCULATE(
    SUM(Table1[Sales]),
    Table1[Category] = "Electronics"
)</code>
                </div>
                <p style="margin-top: 10px;"><strong>Result:</strong> Always shows laptop sales, regardless of slicer
                    selections</p>
            </div>

            <div class="example-box">
                <h4>Example 2: Sales for Specific Region</h4>
                <div class="code-block">
                    <code>North Sales := CALCULATE(
    [Total Sales],
    Table1[Region] = "North"
)</code>
                </div>
                <p style="margin-top: 10px;"><strong>Result:</strong> Total sales for North region only</p>
            </div>

            <div class="example-box">
                <h4>Example 3: Multiple Filters</h4>
                <div class="code-block">
                    <code>Premium Product Sales := CALCULATE(
    [Total Sales],
    Table1[Category] = "Technology",
    Table1[Sales] > 500
)</code>
                </div>
                <p style="margin-top: 10px;"><strong>Result:</strong> Sales of electronics priced over $500</p>
            </div>

            <h3>FILTER Function</h3>
            <div class="theory-box">
                <p><strong>FILTER</strong> creates a subset of a table based on conditions</p>
                <p><strong>Syntax:</strong> FILTER(table, condition)</p>
                <p><strong>Often used with:</strong> CALCULATE to create complex filters</p>
            </div>

            <div class="example-box">
                <h4>Example: High Value Sales</h4>
                <div class="code-block">
                    <code>High Value Sales := CALCULATE(
    [Total Sales],
    FILTER(
        Table1,
        Table1[Sales] > 1000
    )
)</code>
                </div>
                <p style="margin-top: 10px;"><strong>Result:</strong> Sum of only sales over $1000</p>
            </div>

            <h3>ALL Function - Remove Filters</h3>
            <div class="theory-box">
                <p><strong>ALL</strong> removes filters from specified columns or tables</p>
                <p><strong>Common use:</strong> Calculate totals ignoring current filters</p>
            </div>

            <div class="example-box">
                <h4>Example 1: Total Sales (Ignoring All Filters)</h4>
                <div class="code-block">
                    <code>All Sales := CALCULATE(
    [Total Sales],
    ALL(Table1)
)</code>
                </div>
                <p style="margin-top: 10px;"><strong>Result:</strong> Grand total, no matter what filters are applied
                </p>
            </div>

            <div class="example-box">
                <h4>Example 2: Percentage of Total</h4>
                <div class="code-block">
                    <code>% of Total Sales := DIVIDE(
    [Total Sales],
    CALCULATE([Total Sales], ALL(Table1)),
    0
)</code>
                </div>
                <p style="margin-top: 10px;"><strong>Result:</strong> Each category's percentage of grand total</p>
            </div>

            <h3>ALLEXCEPT Function</h3>
            <div class="theory-box">
                <p><strong>ALLEXCEPT</strong> removes all filters except those specified</p>
                <p><strong>Syntax:</strong> ALLEXCEPT(table, column1, column2, ...)</p>
            </div>

            <div class="example-box">
                <h4>Example: Sales by Product (Ignoring Other Filters)</h4>
                <div class="code-block">
                    <code>Sales by Product Only := CALCULATE(
    [Total Sales],
    ALLEXCEPT(Table1, Table1[Product])
)</code>
                </div>
                <p style="margin-top: 10px;"><strong>Result:</strong> Removes all filters except product filter</p>
            </div>

            <h3>CALCULATE Best Practices</h3>
            <div class="feature-grid">
                <div class="feature-card" style="background: #d4edda; border-left: 4px solid #28a745;">
                    <h4>‚úÖ DO's</h4>
                    <ul style="font-size: 0.9em;">
                        <li>Use CALCULATE for filter modifications</li>
                        <li>Combine with ALL for percentage calculations</li>
                        <li>Use FILTER for complex conditions</li>
                        <li>Test with different slicer combinations</li>
                        <li>Document complex CALCULATE formulas</li>
                    </ul>
                </div>

                <div class="feature-card" style="background: #f8d7da; border-left: 4px solid #dc3545;">
                    <h4>‚ùå DON'Ts</h4>
                    <ul style="font-size: 0.9em;">
                        <li>Don't nest CALCULATE excessively</li>
                        <li>Don't use FILTER on large tables unnecessarily</li>
                        <li>Don't forget to test edge cases</li>
                        <li>Don't use CALCULATE in calculated columns</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Iterators Section -->
        <div class="content-section" id="iterators">
            <h2>üîÑ Iterator Functions (X Functions)</h2>

            <h3>What Are Iterator Functions?</h3>
            <div class="theory-box">
                <p><strong>Iterator functions</strong> (also called X functions) evaluate an expression for each row in
                    a table and then aggregate the results.</p>

                <p style="margin-top: 15px;"><strong>Why use them?</strong></p>
                <ul>
                    <li>Perform row-by-row calculations then aggregate</li>
                    <li>More flexible than simple aggregations</li>
                    <li>Essential for complex business logic</li>
                </ul>

                <p style="margin-top: 15px;"><strong>Pattern:</strong> FunctionX(Table, Expression)</p>
            </div>

            <h3>Common Iterator Functions</h3>
            <div class="function-grid">
                <div class="function-card">
                    <h4>SUMX</h4>
                    <p><strong>Purpose:</strong> Calculate expression for each row, then sum</p>
                    <div class="code-block">
                        <code>Total Sales (Explicit) := SUMX(
    Table1,
    Table1[Sales]
)</code>
                    </div>
                    <p style="font-size: 0.9em; margin-top: 10px;">Calculates Quantity √ó Price for each row, then sums
                        all</p>
                </div>

                <div class="function-card">
                    <h4>AVERAGEX</h4>
                    <p><strong>Purpose:</strong> Calculate expression for each row, then average</p>
                    <div class="code-block">
                        <code>Avg Order Value := AVERAGEX(
    Table1,
    Table1[Sales]
)</code>
                    </div>
                </div>

                <div class="function-card">
                    <h4>COUNTX</h4>
                    <p><strong>Purpose:</strong> Count non-blank expression results</p>
                    <div class="code-block">
                        <code>High Quantity Orders := COUNTX(
    FILTER(Table1, Table1[Quantity] > 5),
    Table1[Order ID]
)</code>
                    </div>
                </div>

                <div class="function-card">
                    <h4>MINX / MAXX</h4>
                    <p><strong>Purpose:</strong> Find min/max of expression</p>
                    <div class="code-block">
                        <code>Highest Sale := MAXX(
    Table1,
    Table1[Sales]
)</code>
                    </div>
                </div>
            </div>

            <h3>When to Use Iterators</h3>
            <div class="comparison-visual">
                <div class="example-box">
                    <h4>‚ùå Without Iterator (Wrong for calculated values)</h4>
                    <div class="code-block">
                        <code>-- In simple DAX, this works on physical columns
Total Profit := SUM(Table1[Profit])</code>
                    </div>
                </div>

                <div class="example-box">
                    <h4>‚úÖ With Iterator (Correct)</h4>
                    <div class="code-block">
                        <code>-- For this dataset, Profit is already provided in each row
Total Profit := SUMX(
    Table1,
    Table1[Profit]
)</code>
                    </div>
                </div>
            </div>

            <h3>Advanced Iterator Examples</h3>
            <div class="example-box">
                <h4>Example 1: Weighted Average</h4>
                <div class="code-block">
                    <code>Weighted Avg Quantity := DIVIDE(
    SUMX(Table1, Table1[Sales] * Table1[Quantity]),
    SUM(Table1[Sales])
)</code>
                </div>
                <p style="margin-top: 10px;"><strong>Use case:</strong> Average price weighted by quantity sold</p>
            </div>

            <div class="example-box">
                <h4>Example 2: Profit Margin per Transaction</h4>
                <div class="code-block">
                    <code>Avg Profit Margin := AVERAGEX(
    Table1,
    DIVIDE(
        Table1[Profit],
        Table1[Sales]
    )
)</code>
                </div>
            </div>

            <div class="example-box">
                <h4>Example 3: Count High Value Orders</h4>
                <div class="code-block">
                    <code>High Value Orders := COUNTX(
    FILTER(
        Table1,
        Table1[Sales] > 1000
    ),
    Table1[Order ID]
)</code>
                </div>
            </div>

            <div class="tip">
                <strong>üí° Performance Tip:</strong> Iterators can be slow on large tables. Use them when necessary, but
                prefer simple aggregations (SUM, AVERAGE) when possible.
            </div>
        </div>

        <!-- Time Intelligence Section -->
        <div class="content-section" id="timeintel">
            <h2>‚è∞ Advanced Date & Time Analysis</h2>

            <div class="important">
                <strong>üì• Live Practice Data:</strong>
                <p>For this section, we will use a <strong>Large Dataset (10,000+ rows)</strong> to demonstrate
                    performance
                    and advanced date scenarios.</p>
                <button class="download-btn" onclick="generateBigData()">
                    üìä Download Global Superstore Data (CSV)
                </button>
                <p style="font-size: 0.9em; margin-top: 5px;"><strong>Note:</strong> Import the CSV and name the table
                    as <strong>Table1</strong>.
                    Contains: Order ID, Order Date, Ship Date, Order Time, Region, Category, Product, Sales, Quantity,
                    Profit</p>
            </div>

            <h3>1. Date & Time Transformations</h3>
            <div class="theory-box">
                <p>Before using time intelligence, we often need to calculate durations or extract specific parts of a
                    date.</p>
            </div>

            <div class="function-grid">
                <div class="function-card">
                    <h4>DATEDIFF (Duration)</h4>
                    <p><strong>Scenario:</strong> Calculate "Days to Ship"</p>
                    <div class="code-block">
                        <code>Days to Ship = DATEDIFF(
    Table1[Order Date],
    Table1[Ship Date],
    DAY
)</code>
                    </div>
                </div>

                <div class="function-card">
                    <h4>WEEKDAY (Weekend Analysis)</h4>
                    <p><strong>Scenario:</strong> Identify weekend orders</p>
                    <div class="code-block">
                        <code>Is Weekend = IF(
    WEEKDAY(Table1[Order Date], 2) > 5,
    "Weekend",
    "Weekday"
)</code>
                    </div>
                </div>

                <div class="function-card">
                    <h4>HOUR (Time Extraction)</h4>
                    <p><strong>Scenario:</strong> Analyze peak ordering hours</p>
                    <div class="code-block">
                        <code>Order Hour = HOUR(Table1[Order Time])</code>
                    </div>
                </div>
            </div>

            <h3>2. Time Intelligence Prerequisites</h3>
            <div class="warning">
                <strong>‚ö†Ô∏è CRITICAL Requirements for DAX Time Intel:</strong>
                <ul style="margin-top: 10px;">
                    <li><strong>Date Table:</strong> You MUST create a dedicated Date table linked to your Data table.
                    </li>
                    <li><strong>Continuous Dates:</strong> The Date table must have no gaps in dates.</li>
                    <li><strong>Mark as Date Table:</strong> In Table Tools, select "Mark as Date Table".</li>
                </ul>
            </div>

            <h3>3. Year-to-Date (YTD) Calculations</h3>
            <div class="function-card">
                <h4>TOTALYTD</h4>
                <p><strong>Purpose:</strong> Calculate year-to-date total</p>
                <div class="code-block">
                    <code>YTD Sales := TOTALYTD(
    SUM(Table1[Sales]),
    'Date Table'[Date]
)</code>
                </div>
                <p style="margin-top: 10px;"><strong>Result:</strong> Running total from Jan 1 to current date in filter
                </p>
            </div>

            <div class="example-box">
                <h4>Custom YTD (Manual Method)</h4>
                <div class="code-block">
                    <code>YTD Sales Manual := CALCULATE(
    SUM(Table1[Sales]),
    DATESYTD('Date Table'[Date])
)</code>
                </div>
            </div>

            <h3>4. Period Comparisons (Growth Analysis)</h3>
            <div class="function-grid">
                <div class="function-card">
                    <h4>Previous Year (PY)</h4>
                    <div class="code-block">
                        <code>PY Sales := CALCULATE(
    [Total Sales],
    SAMEPERIODLASTYEAR('Date Table'[Date])
)</code>
                    </div>
                    <p style="font-size: 0.9em; margin-top: 10px;">Sales for the same dates in the previous year</p>
                </div>
                <div class="function-card">
                    <h4>Year-over-Year Growth</h4>
                    <div class="code-block">
                        <code>YoY Growth % := DIVIDE(
    [Total Sales] - [PY Sales],
    [PY Sales],
    0
)</code>
                    </div>
                </div>
                <div class="function-card">
                    <h4>Previous Month (PM)</h4>
                    <div class="code-block">
                        <code>PM Sales := CALCULATE(
    [Total Sales],
    DATEADD('Date Table'[Date], -1, MONTH)
)</code>
                    </div>
                </div>
            </div>

            <h3>5. Rolling & Moving Calculations</h3>
            <div class="example-box">
                <h4>Moving Annual Total (MAT) / Rolling 12 Months</h4>
                <div class="code-block">
                    <code>L12M Sales := CALCULATE(
    [Total Sales],
    DATESINPERIOD(
        'Date Table'[Date],
        MAX('Date Table'[Date]),
        -12,
        MONTH
    )
)</code>
                </div>
                <p style="margin-top: 10px;"><strong>Real-world use:</strong> Analyzing trends without seasonality
                    noise</p>
            </div>

            <h3>6. Complete Time Intelligence Script</h3>
            <div class="theory-box">
                <h4>Copy-Paste Measure Pattern:</h4>
                <div class="code-block">
                    <code>-- 1. Base Measure
Total Sales = SUM(Table1[Sales])

-- 2. Cumulative
YTD Sales = TOTALYTD([Total Sales], 'Date Table'[Date])

-- 3. Previous Periods
PY Sales = CALCULATE([Total Sales], SAMEPERIODLASTYEAR('Date Table'[Date]))
MOM Sales = CALCULATE([Total Sales], PARALLELPERIOD('Date Table'[Date], -1, MONTH))

-- 4. Growth Rates
YoY Growth = DIVIDE([Total Sales] - [PY Sales], [PY Sales])

-- 5. Rolling Average (3 Months)
Rolling 3M Avg = CALCULATE(
    AVERAGEX(Table1, Table1[Sales]),
    DATESINPERIOD('Date Table'[Date], LASTDATE('Date Table'[Date]), -3, MONTH)
)</code>
                </div>
            </div>
            <div class="tip">
                <strong>üí° Pro Tip:</strong> Create a "Time Intelligence" display folder in the Model View to keep these
                organized!
            </div>
        </div>

        <!-- Practical Lab Section -->
        <div class="content-section" id="practical">
            <h2>üî® Practical Lab: Advanced DAX in Action</h2>

            <div class="important">
                <strong>‚è±Ô∏è Lab Duration:</strong> 90 minutes<br>
                <strong>üéØ Objective:</strong> Build a comprehensive business analytics dashboard with advanced DAX
            </div>

            <h3>Exercise 1: Create Date Intelligence Measures (25 minutes)</h3>
            <div class="practical-task">
                <div class="task-header">
                    <div class="task-number">1</div>
                    <h3 style="margin: 0;">Build Complete Time Intelligence</h3>
                </div>
                <div class="steps">
                    <ol>
                        <li>Open your Power BI file from Day 6</li>
                        <li>Verify your <strong>'Date Table'</strong> is marked as Date Table</li>
                        <li>Create these measures in <strong>Table1</strong>:
                            <ul>
                                <li><strong>YTD Sales:</strong> <code>TOTALYTD([Total Sales], 'Date Table'[Date])</code>
                                </li>
                                <li><strong>QTD Sales:</strong> <code>TOTALQTD([Total Sales], 'Date Table'[Date])</code>
                                </li>
                                <li><strong>MTD Sales:</strong> <code>TOTALMTD([Total Sales], 'Date Table'[Date])</code>
                                </li>
                                <li><strong>PY Sales:</strong>
                                    <code>CALCULATE([Total Sales], SAMEPERIODLASTYEAR('Date Table'[Date]))</code>
                                </li>
                                <li><strong>YoY Growth %:</strong>
                                    <code>DIVIDE([Total Sales] - [PY Sales], [PY Sales], 0)</code>
                                </li>
                            </ul>
                        </li>
                        <li>Format YoY Growth % as Percentage</li>
                        <li>Test with date slicers</li>
                    </ol>
                </div>
            </div>

            <h3>Exercise 2: CALCULATE Practice (20 minutes)</h3>
            <div class="practical-task">
                <div class="task-header">
                    <div class="task-number">2</div>
                    <h3 style="margin: 0;">Filter Context Manipulation</h3>
                </div>
                <div class="steps">
                    <ol>
                        <li>Create category-specific measures:
                            <ul>
                                <li><strong>Electronics Sales:</strong>
                                    <code>CALCULATE([Total Sales], Table1[Category] = "Electronics")</code>
                                </li>
                                <li><strong>Technology Sales:</strong>
                                    <code>CALCULATE([Total Sales], Table1[Category] = "Technology")</code>
                                </li>
                            </ul>
                        </li>
                        <li>Create percentage measures:
                            <ul>
                                <li><strong>% of Total:</strong>
                                    <code>DIVIDE([Total Sales], CALCULATE([Total Sales], ALL(Table1)), 0)</code>
                                </li>
                                <li><strong>% of Category:</strong>
                                    <code>DIVIDE([Total Sales], CALCULATE([Total Sales], ALLEXCEPT(Table1, Table1[Category])), 0)</code>
                                </li>
                            </ul>
                        </li>
                        <li>Test in matrix visual with Product on rows</li>
                    </ol>
                </div>
            </div>

            <h3>Exercise 3: Iterator Functions (20 minutes)</h3>
            <div class="practical-task">
                <div class="task-header">
                    <div class="task-number">3</div>
                    <h3 style="margin: 0;">Row-by-Row Calculations</h3>
                </div>
                <div class="steps">
                    <ol>
                        <li>Create calculated measures using iterators:
                            <ul>
                                <li><strong>Explicit Total Sales:</strong>
                                    <code>SUMX(Table1, Table1[Sales])</code>
                                </li>
                                <li><strong>Avg Order Value:</strong>
                                    <code>AVERAGEX(Table1, Table1[Sales])</code>
                                </li>
                                <li><strong>Max Single Sale:</strong>
                                    <code>MAXX(Table1, Table1[Sales])</code>
                                </li>
                            </ul>
                        </li>
                        <li>Create profit margin measure:
                            <div class="code-block">
                                <code>Global Profit Margin := DIVIDE(SUM(Table1[Profit]), SUM(Table1[Sales]), 0)</code>
                                <code>Avg Transaction Margin % := AVERAGEX(
Table1,
DIVIDE(Table1[Profit], Table1[Sales], 0)
)</code>
                            </div>
                        </li>
                    </ol>
                </div>
            </div>
            <h3>Exercise 4: Build Dashboard (25 minutes)</h3>
            <div class="practical-task">
                <div class="task-header">
                    <div class="task-number">4</div>
                    <h3 style="margin: 0;">Create Executive Dashboard</h3>
                </div>
                <div class="steps">
                    <ol>
                        <li>Create new report page named "Executive Dashboard"</li>
                        <li>Add KPI Cards showing:
                            <ul>
                                <li>YTD Sales</li>
                                <li>YoY Growth %</li>
                                <li>MTD Sales</li>
                                <li>Avg Order Value</li>
                            </ul>
                        </li>
                        <li>Add Line Chart:
                            <ul>
                                <li>X-axis: 'Date Table'[Month]</li>
                                <li>Y-axis: [Total Sales], [PY Sales]</li>
                                <li>Show trend over time</li>
                            </ul>
                        </li>
                        <li>Add Matrix:
                            <ul>
                                <li>Rows: Table1[Category]</li>
                                <li>Values: [Total Sales], [% of Total], [YoY Growth %]</li>
                            </ul>
                        </li>
                        <li>Add slicers for Year and Quarter</li>
                    </ol>
                </div>
            </div>

            <div class="important" style="margin-top: 30px;">
                <strong>üéâ Lab Complete!</strong> You have successfully:
                <ul style="margin-top: 10px;">
                    <li>‚úÖ Created time intelligence measures</li>
                    <li>‚úÖ Used CALCULATE to modify filter context</li>
                    <li>‚úÖ Built iterator functions for complex calculations</li>
                    <li>‚úÖ Implemented year-over-year comparisons</li>
                    <li>‚úÖ Created a professional executive dashboard</li>
                </ul>
            </div>
        </div>

        <!-- Tasks Section -->
        <div class="content-section" id="tasks">
            <h2>‚úÖ Practice Tasks & Homework</h2>

            <h3>Task 1: Advanced DAX Challenge</h3>
            <div class="practical-task">
                <div class="task-header">
                    <div class="task-number">üéØ</div>
                    <h3 style="margin: 0;">Build These Complex Measures</h3>
                </div>
                <div class="steps">
                    <ol>
                        <li><strong>Running Total:</strong> Create a measure showing cumulative sales by date</li>
                        <li><strong>Moving Average:</strong> 3-month moving average of sales</li>
                        <li><strong>Top 10 Products:</strong> Show only top 10 products by revenue</li>
                        <li><strong>Same Week Last Year:</strong> Sales for the same week in previous year</li>
                        <li><strong>Pareto Analysis:</strong> Cumulative % of total (80/20 rule)</li>
                    </ol>
                </div>
            </div>

            <h3>Task 2: Time Intelligence Suite</h3>
            <div class="practical-task">
                <div class="task-header">
                    <div class="task-number">‚è∞</div>
                    <h3 style="margin: 0;">Complete Time Intelligence Library</h3>
                </div>
                <div class="steps">
                    <p><strong>Create a full set of time measures:</strong></p>
                    <ul>
                        <li>YTD, QTD, MTD for Sales, Profit, and Quantity</li>
                        <li>PY (Previous Year) for all base measures</li>
                        <li>YoY Growth % for all metrics</li>
                        <li>Last 12 Months rolling total</li>
                        <li>Same Period Last Quarter</li>
                        <li>Quarter-over-Quarter growth</li>
                    </ul>
                    <p style="margin-top: 15px;"><strong>Organize:</strong> Create "Time Intelligence" display folder
                    </p>
                </div>
            </div>

            <h3>Task 3: Quiz</h3>
            <div class="theory-box">
                <p><strong>Answer these questions:</strong></p>
                <ol>
                    <li>What's the difference between SUMX and SUM?</li>
                    <li>When should you use SWITCH instead of nested IF?</li>
                    <li>What does CALCULATE do to filter context?</li>
                    <li>What's the difference between ALL and ALLEXCEPT?</li>
                    <li>What are the prerequisites for time intelligence functions?</li>
                    <li>What does SAMEPERIODLASTYEAR return?</li>
                    <li>How do you calculate percentage of total?</li>
                    <li>What's the syntax for FILTER function?</li>
                </ol>
            </div>

            <h3>Task 4: Real-World Project</h3>
            <div class="practical-task">
                <div class="task-header">
                    <div class="task-number">üíº</div>
                    <h3 style="margin: 0;">Business Scenario: Sales Performance Dashboard</h3>
                </div>
                <div class="steps">
                    <p><strong>Create a comprehensive dashboard with:</strong></p>
                    <ol>
                        <li><strong>KPI Section:</strong>
                            <ul>
                                <li>YTD Sales with YoY comparison</li>
                                <li>MTD Sales with MoM comparison</li>
                                <li>Current vs Target (create a target measure)</li>
                            </ul>
                        </li>
                        <li><strong>Trend Analysis:</strong>
                            <ul>
                                <li>Line chart showing monthly sales vs PY</li>
                                <li>Add forecast trend line</li>
                            </ul>
                        </li>
                        <li><strong>Product Performance:</strong>
                            <ul>
                                <li>Top 10 products by revenue</li>
                                <li>Each showing % of total and YoY growth</li>
                            </ul>
                        </li>
                        <li><strong>Regional Breakdown:</strong>
                            <ul>
                                <li>Map showing sales by region</li>
                                <li>Table with regional YTD and growth metrics</li>
                            </ul>
                        </li>
                    </ol>
                    <p style="margin-top: 15px;"><strong>Present on Day 8</strong></p>
                </div>
            </div>
        </div>

        <!-- Resources Section -->
        <div class="content-section" id="resources">
            <h2>üì¶ Resources & Downloads</h2>

            <h3>üìö Advanced DAX Resources</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>üìñ Essential Reading</h4>
                    <ul>
                        <li>"The Definitive Guide to DAX" (2nd Edition) - SQLBI</li>
                        <li>"DAX Patterns" - SQLBI</li>
                        <li>Microsoft DAX Function Reference</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <h4>üé• Video Training</h4>
                    <ul>
                        <li>SQLBI - Time Intelligence in DAX</li>
                        <li>Guy in a Cube - CALCULATE Deep Dive</li>
                        <li>Curbal - Iterator Functions Explained</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <h4>üîß Tools</h4>
                    <ul>
                        <li>DAX Studio - Query and optimize</li>
                        <li>Tabular Editor - Advanced modeling</li>
                        <li>DAX Formatter - Format code</li>
                    </ul>
                </div>
            </div>

            <h3>üìã DAX Function Quick Reference</h3>
            <table class="comparison-table" style="font-size: 0.85em;">
                <thead>
                    <tr>
                        <th>Category</th>
                        <th>Functions</th>
                        <th>Common Use</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Time Intel</strong></td>
                        <td>TOTALYTD, SAMEPERIODLASTYEAR, DATEADD</td>
                        <td>YTD, YoY comparisons</td>
                    </tr>
                    <tr>
                        <td><strong>Filter</strong></td>
                        <td>CALCULATE, FILTER, ALL, ALLEXCEPT</td>
                        <td>Modify filter context</td>
                    </tr>
                    <tr>
                        <td><strong>Iterators</strong></td>
                        <td>SUMX, AVERAGEX, COUNTX, MAXX</td>
                        <td>Row-by-row calculations</td>
                    </tr>
                    <tr>
                        <td><strong>Logical</strong></td>
                        <td>IF, SWITCH, AND, OR, IFERROR</td>
                        <td>Conditional logic</td>
                    </tr>
                    <tr>
                        <td><strong>Date</strong></td>
                        <td>TODAY, DATEDIFF, EOMONTH, YEAR</td>
                        <td>Date calculations</td>
                    </tr>
                    <tr>
                        <td><strong>Text</strong></td>
                        <td>CONCATENATE, LEFT, FORMAT, SUBSTITUTE</td>
                        <td>Text manipulation</td>
                    </tr>
                </tbody>
            </table>

            <h3>üéØ Day 8 Preview</h3>
            <div class="note">
                <strong>üìÖ Coming Tomorrow: Data Visualization - Building Reports</strong>
                <p style="margin-top: 10px;">Topics we'll cover:</p>
                <ul>
                    <li>Exploring Report View in depth</li>
                    <li>Chart types and when to use them</li>
                    <li>Formatting and styling reports</li>
                    <li>Advanced filtering options</li>
                    <li>Report interactions and drill-through</li>
                    <li>Bookmarks and buttons</li>
                    <li>Custom visuals</li>
                    <li>Mobile report design</li>
                </ul>
                <p style="margin-top: 10px;"><strong>Preparation:</strong> Have your dashboard from today's lab ready to
                    enhance!</p>
            </div>

            <h3>‚úÖ Day 7 Final Checklist</h3>
            <div class="checklist">
                <div class="checklist-item" onclick="toggleCheck(this)">
                    <div class="checkbox"></div>
                    <span>Created a Date table with proper columns</span>
                </div>
                <div class="checklist-item" onclick="toggleCheck(this)">
                    <div class="checkbox"></div>
                    <span>Built at least 3 Time Intelligence measures (YTD, YoY, etc.)</span>
                </div>
                <div class="checklist-item" onclick="toggleCheck(this)">
                    <div class="checkbox"></div>
                    <span>Used CALCULATE to modify filter context</span>
                </div>
                <div class="checklist-item" onclick="toggleCheck(this)">
                    <div class="checkbox"></div>
                    <span>Fixed a nested IF using SWITCH</span>
                </div>
                <div class="checklist-item" onclick="toggleCheck(this)">
                    <div class="checkbox"></div>
                    <span>Understood when to use Iterators (SUMX vs SUM)</span>
                </div>
            </div>

        </div>

        <footer>
            <h3>üéâ Outstanding Work!</h3>
            <p>You've mastered advanced DAX - the heart of Power BI analytics!</p>
            <p style="margin-top: 10px; color: #666;">
                <strong>Tomorrow:</strong> We bring it all together with stunning visualizations!
            </p>
            <a href="Day6.html" class="next-day-btn"
                style="background: #666; text-decoration: none; padding: 15px 30px; margin-right: 15px;color: white;">‚Üê
                Back to
                Day 6</a>
            <a href="Day8.html" style="text-decoration: none;">
                <button class="next-day-btn">
                    Continue to Day 8 ‚Üí
                </button>
            </a>
            <p style="margin-top: 20px; font-size: 0.9em; color: #999;">
                Power BI Training Course | Day 7 of 10 | ¬© 2025
            </p>
        </footer>
    </div>

    <script>
        // Navigation Logic
        const navBtns = document.querySelectorAll('.nav-btn');
        const sections = document.querySelectorAll('.content-section');
        const progressFill = document.querySelector('.progress-fill');

        navBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const targetSection = btn.getAttribute('data-section');

                // Update navigation buttons
                navBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');

                // Update content sections
                sections.forEach(s => s.classList.remove('active'));
                const targetEl = document.getElementById(targetSection);
                if (targetEl) {
                    targetEl.classList.add('active');
                    // Add animation
                    targetEl.style.animation = 'none';
                    targetEl.offsetHeight; /* trigger reflow */
                    targetEl.style.animation = 'fadeIn 0.5s ease';
                }

                // Update progress bar
                const currentIndex = Array.from(navBtns).indexOf(btn);
                const progress = ((currentIndex + 1) / navBtns.length) * 100;
                progressFill.style.width = progress + '%';

                // Scroll to top
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        });

        // Initialize progress bar
        progressFill.style.width = (1 / navBtns.length * 100) + '%';

        // Checklist Logic
        function toggleCheck(element) {
            const checkbox = element.querySelector('.checkbox');
            checkbox.classList.toggle('checked');
            if (checkbox.classList.contains('checked')) {
                checkbox.innerHTML = '‚úì';
                checkbox.style.background = '#fa709a';
                checkbox.style.borderColor = '#fa709a';
                checkbox.style.color = 'white';
                element.style.opacity = '0.7';
                element.style.background = '#fff5f8';
            } else {
                checkbox.innerHTML = '';
                checkbox.style.background = 'white';
                checkbox.style.borderColor = '#ddd';
                element.style.opacity = '1';
                element.style.background = 'white';
            }
        }

        // Generate Big Data Set
        function generateBigData() {
            let csvContent = "Order ID,Order Date,Ship Date,Order Time,Region,Category,Product,Sales,Quantity,Profit\n";
            const regions = ['North', 'South', 'East', 'West', 'Central'];
            const categories = ['Electronics', 'Furniture', 'Office Supplies', 'Technology'];
            const products = ['Laptop', 'Chair', 'Desk', 'Phone', 'Monitor', 'Mouse', 'Keyboard', 'Table', 'Printer', 'Accessories'];

            // Generate 10,000 rows
            const startDate = new Date('2022-01-01');
            const endDate = new Date('2024-12-31');

            for (let i = 1; i <= 10000; i++) {
                const date = new Date(startDate.getTime() + Math.random() * (endDate.getTime() - startDate.getTime()));
                const orderDate = date.toISOString().split('T')[0];

                // Ship date 1-7 days later
                const shipDateObj = new Date(date);
                shipDateObj.setDate(date.getDate() + Math.floor(Math.random() * 7) + 1);
                const shipDate = shipDateObj.toISOString().split('T')[0];

                // Random Time (08:00 to 20:00)
                const hour = Math.floor(Math.random() * (20 - 8 + 1)) + 8;
                const minute = Math.floor(Math.random() * 60).toString().padStart(2, '0');
                const second = Math.floor(Math.random() * 60).toString().padStart(2, '0');
                const orderTime = `${hour}:${minute}:${second}`;

                const region = regions[Math.floor(Math.random() * regions.length)];
                const category = categories[Math.floor(Math.random() * categories.length)];
                const product = products[Math.floor(Math.random() * products.length)];
                const sales = (Math.random() * 1000 + 50).toFixed(2);
                const quantity = Math.floor(Math.random() * 10) + 1;
                const profit = (sales * 0.2 * (Math.random() - 0.2)).toFixed(2); // Random profit/loss

                csvContent += `ORD-${10000 + i},${orderDate},${shipDate},${orderTime},${region},${category},${product},${sales},${quantity},${profit}\n`;
            }

            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement("a");
            const url = URL.createObjectURL(blob);
            link.setAttribute("href", url);
            link.setAttribute("download", "Global_Superstore_BigData.csv");
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    </script>


</html>