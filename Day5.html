<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Power BI Day 5 - Data Modeling & Relationships</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            margin-bottom: 30px;
            text-align: center;
        }

        header h1 {
            color: #4facfe;
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        header p {
            color: #666;
            font-size: 1.2em;
        }

        .day-info {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 15px;
            margin: 20px 0;
        }

        .info-card {
            background: #f8f9fa;
            padding: 15px 25px;
            border-radius: 10px;
            border-left: 4px solid #00f2fe;
        }

        .info-card strong {
            color: #4facfe;
        }

        nav {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        nav button {
            background: #4facfe;
            color: white;
            border: none;
            padding: 12px 25px;
            margin: 5px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        nav button:hover {
            background: #3a8cd9;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        nav button.active {
            background: #00f2fe;
            color: #333;
        }

        .content-section {
            background: white;
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            margin-bottom: 30px;
            display: none;
        }

        .content-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h2 {
            color: #4facfe;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #00f2fe;
        }

        h3 {
            color: #3a8cd9;
            margin-top: 25px;
            margin-bottom: 15px;
        }

        .theory-box {
            background: #f8f9fa;
            padding: 20px;
            border-left: 5px solid #4facfe;
            margin: 20px 0;
            border-radius: 5px;
        }

        .important {
            background: #fff3cd;
            padding: 15px;
            border-left: 5px solid #ffc107;
            margin: 20px 0;
            border-radius: 5px;
        }

        .note {
            background: #d1ecf1;
            padding: 15px;
            border-left: 5px solid #17a2b8;
            margin: 20px 0;
            border-radius: 5px;
        }

        .tip {
            background: #d4edda;
            padding: 15px;
            border-left: 5px solid #28a745;
            margin: 20px 0;
            border-radius: 5px;
        }

        .warning {
            background: #f8d7da;
            padding: 15px;
            border-left: 5px solid #dc3545;
            margin: 20px 0;
            border-radius: 5px;
        }

        .diagram {
            background: #f0f0f0;
            padding: 30px;
            margin: 20px 0;
            border-radius: 10px;
            text-align: center;
        }

        .practical-task {
            background: #e7f6ff;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            border: 2px dashed #4facfe;
        }

        .task-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .task-number {
            background: #4facfe;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .steps {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
        }

        .steps ol,
        .steps ul {
            margin-left: 20px;
        }

        .steps li {
            margin: 10px 0;
            padding-left: 10px;
        }

        ul {
            margin-left: 20px;
        }

        ul li {
            margin: 8px 0;
        }

        .download-section {
            background: #28a745;
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }

        .download-btn {
            background: white;
            color: #28a745;
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
        }

        .download-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #4facfe;
        }

        .feature-card h4 {
            color: #4facfe;
            margin-bottom: 10px;
        }

        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 12px;
            border: 1px solid #ddd;
            text-align: left;
        }

        .comparison-table th {
            background: #4facfe;
            color: white;
        }

        .comparison-table tr:nth-child(even) {
            background: #f8f9fa;
        }

        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            color: #d63384;
        }

        .model-diagram {
            background: white;
            padding: 30px;
            border-radius: 10px;
            margin: 20px 0;
            border: 2px solid #4facfe;
        }

        .table-visual {
            background: #e7f6ff;
            border: 2px solid #4facfe;
            border-radius: 8px;
            padding: 15px;
            margin: 10px;
            min-width: 150px;
            text-align: center;
        }

        .table-visual h4 {
            color: #4facfe;
            margin-bottom: 10px;
        }

        .relationship-line {
            border-top: 3px solid #4facfe;
            margin: 20px auto;
            width: 80%;
            position: relative;
        }

        .relationship-line::before {
            content: "1";
            position: absolute;
            left: 0;
            top: -12px;
            background: white;
            padding: 0 5px;
            color: #4facfe;
            font-weight: bold;
        }

        .relationship-line::after {
            content: "*";
            position: absolute;
            right: 0;
            top: -12px;
            background: white;
            padding: 0 5px;
            color: #4facfe;
            font-weight: bold;
        }

        .star-schema {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            padding: 30px;
            background: white;
            border-radius: 10px;
            margin: 20px 0;
        }

        .fact-table {
            background: #ffc107;
            border: 3px solid #ff9800;
            border-radius: 10px;
            padding: 20px;
            min-width: 200px;
            text-align: center;
        }

        .dimension-tables {
            display: flex;
            justify-content: space-around;
            gap: 20px;
            flex-wrap: wrap;
            width: 100%;
        }

        .dimension-table {
            background: #4facfe;
            color: white;
            border-radius: 10px;
            padding: 15px;
            min-width: 150px;
            text-align: center;
        }

        footer {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            margin-top: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .next-day-btn {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 8px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 10px;
            transition: all 0.3s ease;
        }

        .next-day-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .progress-bar {
            background: #e0e0e0;
            height: 8px;
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #4facfe 0%, #00f2fe 100%);
            height: 100%;
            width: 50%;
            transition: width 0.3s ease;
        }

        .cardinality-box {
            background: white;
            border: 2px solid #4facfe;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .cardinality-example {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            gap: 20px;
            align-items: center;
            margin: 15px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .filter-flow {
            background: linear-gradient(90deg, #d4edda 0%, #fff3cd 50%, #f8d7da 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1>üìä Power BI Training - Day 5</h1>
            <p>Data Modeling & Table Relationships</p>
            <div class="day-info">
                <div class="info-card">
                    <strong>Duration:</strong> 3 Hours
                </div>
                <div class="info-card">
                    <strong>Theory:</strong> 1.5 Hours
                </div>
                <div class="info-card">
                    <strong>Practical:</strong> 1.5 Hours
                </div>
                <div class="info-card">
                    <strong>Level:</strong> Intermediate
                </div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill"></div>
            </div>
            <p style="color: #666; font-size: 0.9em; margin-top: 10px;">Course Progress: Day 5 of 10 (50% - Halfway!)
            </p>
        </header>

        <nav>
            <button class="nav-btn active" data-section="overview">üìã Overview</button>
            <button class="nav-btn" data-section="datamodel">üóÇÔ∏è Data Model</button>
            <button class="nav-btn" data-section="normalization">üìê Normalization</button>
            <button class="nav-btn" data-section="relationships">üîó Relationships</button>
            <button class="nav-btn" data-section="cardinality">üî¢ Cardinality</button>
            <button class="nav-btn" data-section="filterflow">üåä Filter Flow</button>
            <button class="nav-btn" data-section="practical">üî® Practical Lab</button>
            <button class="nav-btn" data-section="tasks">‚úÖ Tasks</button>
            <button class="nav-btn" data-section="resources">üì¶ Resources</button>
        </nav>

        <!-- Overview Section -->
        <div class="content-section active" id="overview">
            <h2>üìã Day 5 Overview</h2>

            <div class="theory-box">
                <h3>Learning Objectives</h3>
                <p>By the end of Day 5, students will be able to:</p>
                <ul>
                    <li>Understand what a data model is and why it's important</li>
                    <li>Explain principles of database normalization</li>
                    <li>Distinguish between Data Tables (Fact) and Lookup Tables (Dimension)</li>
                    <li>Create and manage table relationships in Model View</li>
                    <li>Understand relationship cardinality (1:1, 1:*, *:*)</li>
                    <li>Manage active vs inactive relationships</li>
                    <li>Connect multiple data tables in a star schema</li>
                    <li>Understand filter flow and cross-filtering</li>
                    <li>Hide fields from Report View</li>
                    <li>Apply data modeling best practices</li>
                </ul>
            </div>

            <h3>üìÖ Session Structure</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>Part 1: Data Model Basics (30 min)</h4>
                    <ul>
                        <li>What is a data model?</li>
                        <li>Star vs Snowflake schema</li>
                        <li>Fact vs Dimension tables</li>
                        <li>Normalization principles</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>Part 2: Relationships (40 min)</h4>
                    <ul>
                        <li>Creating relationships</li>
                        <li>Managing relationships</li>
                        <li>Understanding cardinality</li>
                        <li>Active vs inactive</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>Part 3: Filter Flow (20 min)</h4>
                    <ul>
                        <li>How filters propagate</li>
                        <li>Bi-directional filtering</li>
                        <li>Cross-filtering behavior</li>
                        <li>Best practices</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>Part 4: Hands-On Lab (90 min)</h4>
                    <ul>
                        <li>Build a star schema</li>
                        <li>Create relationships</li>
                        <li>Test filter flow</li>
                        <li>Optimize the model</li>
                    </ul>
                </div>
            </div>

            <div class="important">
                <strong>‚ö†Ô∏è Today is Critical!</strong> Data modeling is the foundation of effective Power BI reports. A
                good model makes everything easier; a bad model makes everything harder!
            </div>

            <div class="tip">
                <strong>üí° Key Insight:</strong> Power BI is a relational database at its core. Understanding
                relationships is essential for creating accurate, performant reports.
            </div>
        </div>

        <!-- Data Model Section -->
        <div class="content-section" id="datamodel">
            <h2>üóÇÔ∏è What is a Data Model?</h2>

            <h3>Definition</h3>
            <div class="theory-box">
                <p><strong>Data Model:</strong> The structure that defines how tables are related to each other and how
                    data flows between them.</p>

                <p style="margin-top: 15px;"><strong>Think of it as:</strong></p>
                <ul>
                    <li>The "blueprint" of your data</li>
                    <li>A map showing how tables connect</li>
                    <li>The foundation for all calculations and visualizations</li>
                </ul>

                <p style="margin-top: 15px;"><strong>Why it matters:</strong></p>
                <ul>
                    <li>‚úÖ Enables accurate calculations across tables</li>
                    <li>‚úÖ Improves report performance</li>
                    <li>‚úÖ Reduces data duplication</li>
                    <li>‚úÖ Makes maintenance easier</li>
                    <li>‚úÖ Enables complex analysis</li>
                </ul>
            </div>

            <h3>Accessing Model View</h3>
            <div class="practical-task">
                <div class="task-header">
                    <div class="task-number">üó∫Ô∏è</div>
                    <h3 style="margin: 0;">How to View Your Data Model</h3>
                </div>
                <div class="steps">
                    <ol>
                        <li>In Power BI Desktop, look at the <strong>left sidebar</strong></li>
                        <li>Click the <strong>Model View</strong> icon (third icon - looks like connected boxes)</li>
                        <li>You'll see:
                            <ul>
                                <li>All your tables as boxes</li>
                                <li>Columns listed inside each table</li>
                                <li>Relationships shown as lines connecting tables</li>
                                <li>Key icons next to key columns</li>
                            </ul>
                        </li>
                        <li>You can drag tables to rearrange them</li>
                        <li>Zoom in/out with mouse wheel or zoom slider</li>
                    </ol>
                </div>
            </div>

            <h3>Star Schema vs Snowflake Schema</h3>

            <div class="star-schema">
                <h4 style="color: #4facfe; margin-bottom: 20px;">‚≠ê Star Schema (Recommended)</h4>

                <div class="dimension-tables">
                    <div class="dimension-table">
                        <strong>üìÖ Date</strong>
                        <p style="font-size: 0.85em; margin-top: 5px;">DateKey, Year, Month, Quarter</p>
                    </div>
                    <div class="dimension-table">
                        <strong>üì¶ Product</strong>
                        <p style="font-size: 0.85em; margin-top: 5px;">ProductKey, Name, Category</p>
                    </div>
                    <div class="dimension-table">
                        <strong>üë• Customer</strong>
                        <p style="font-size: 0.85em; margin-top: 5px;">CustomerKey, Name, Region</p>
                    </div>
                </div>

                <div style="width: 100%; text-align: center; font-size: 2em; color: #4facfe;">‚Üì‚Üì‚Üì</div>

                <div class="fact-table">
                    <strong style="font-size: 1.2em;">üìä SALES (Fact Table)</strong>
                    <p style="margin-top: 10px; font-size: 0.9em;">SalesID, DateKey, ProductKey, CustomerKey, Quantity,
                        Amount</p>
                </div>

                <p style="margin-top: 20px; color: #666; max-width: 600px; text-align: center;">
                    <strong>Star Schema:</strong> Fact table at center, dimension tables around it. Simple, fast, easy
                    to understand.
                </p>
            </div>

            <div class="note">
                <strong>üìù Snowflake Schema:</strong> Dimension tables are further normalized (e.g., Product ‚Üí Category
                ‚Üí Subcategory). More complex, rarely needed in Power BI. <strong>Stick with Star Schema!</strong>
            </div>

            <h3>Fact Tables vs Dimension Tables</h3>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Aspect</th>
                        <th>Fact Tables (Data Tables)</th>
                        <th>Dimension Tables (Lookup Tables)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Purpose</strong></td>
                        <td>Store transactions/events</td>
                        <td>Store descriptive attributes</td>
                    </tr>
                    <tr>
                        <td><strong>Content</strong></td>
                        <td>Measurable facts (quantities, amounts)</td>
                        <td>Descriptive text (names, categories)</td>
                    </tr>
                    <tr>
                        <td><strong>Size</strong></td>
                        <td>Many rows (thousands to millions)</td>
                        <td>Fewer rows (dozens to thousands)</td>
                    </tr>
                    <tr>
                        <td><strong>Keys</strong></td>
                        <td>Foreign keys to dimension tables</td>
                        <td>Primary key (unique identifier)</td>
                    </tr>
                    <tr>
                        <td><strong>Changes</strong></td>
                        <td>Grows over time (new transactions)</td>
                        <td>Relatively stable</td>
                    </tr>
                    <tr>
                        <td><strong>Examples</strong></td>
                        <td>Sales, Orders, Transactions, Events</td>
                        <td>Products, Customers, Employees, Dates</td>
                    </tr>
                    <tr>
                        <td><strong>Typical Columns</strong></td>
                        <td>ID, DateKey, ProductKey, Quantity, Amount</td>
                        <td>ID, Name, Category, Description</td>
                    </tr>
                </tbody>
            </table>

            <div class="example-box" style="margin-top: 20px;">
                <h4>Real-World Example: Retail Sales</h4>

                <div class="feature-grid" style="margin-top: 15px;">
                    <div class="feature-card" style="border-left: 4px solid #ffc107;">
                        <h4>üìä FACT: Sales</h4>
                        <ul style="font-size: 0.9em;">
                            <li>SalesID (unique)</li>
                            <li>DateKey (FK)</li>
                            <li>ProductKey (FK)</li>
                            <li>CustomerKey (FK)</li>
                            <li>StoreKey (FK)</li>
                            <li>Quantity (measure)</li>
                            <li>Revenue (measure)</li>
                            <li>Cost (measure)</li>
                        </ul>
                    </div>

                    <div class="feature-card">
                        <h4>üìÖ DIM: Date</h4>
                        <ul style="font-size: 0.9em;">
                            <li>DateKey (PK)</li>
                            <li>Date</li>
                            <li>Year</li>
                            <li>Month</li>
                            <li>Quarter</li>
                            <li>DayOfWeek</li>
                        </ul>
                    </div>

                    <div class="feature-card">
                        <h4>üì¶ DIM: Product</h4>
                        <ul style="font-size: 0.9em;">
                            <li>ProductKey (PK)</li>
                            <li>ProductName</li>
                            <li>Category</li>
                            <li>Brand</li>
                            <li>UnitPrice</li>
                        </ul>
                    </div>

                    <div class="feature-card">
                        <h4>üë• DIM: Customer</h4>
                        <ul style="font-size: 0.9em;">
                            <li>CustomerKey (PK)</li>
                            <li>CustomerName</li>
                            <li>Email</li>
                            <li>City</li>
                            <li>Country</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="tip">
                <strong>üí° Quick Test:</strong> Can you SUM it? If yes, it belongs in a FACT table. If no (it's
                descriptive), it belongs in a DIMENSION table.
            </div>
        </div>

        <!-- Normalization Section -->
        <div class="content-section" id="normalization">
            <h2>üìê Principles of Database Normalization</h2>

            <h3>What is Normalization?</h3>
            <div class="theory-box">
                <p><strong>Normalization:</strong> The process of organizing data to reduce redundancy and improve data
                    integrity.</p>

                <p style="margin-top: 15px;"><strong>Goals:</strong></p>
                <ul>
                    <li>Eliminate duplicate data</li>
                    <li>Ensure data dependencies make sense</li>
                    <li>Make updates easier and safer</li>
                    <li>Reduce storage space</li>
                    <li>Improve data quality</li>
                </ul>
            </div>

            <h3>Normalized vs Denormalized Data</h3>

            <div class="example-box">
                <h4>‚ùå Denormalized (Bad - Contains Duplicates)</h4>
                <table class="comparison-table" style="font-size: 0.85em;">
                    <thead>
                        <tr>
                            <th>OrderID</th>
                            <th>CustomerName</th>
                            <th>CustomerEmail</th>
                            <th>CustomerCity</th>
                            <th>Product</th>
                            <th>Amount</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>1001</td>
                            <td>John Smith</td>
                            <td>john@email.com</td>
                            <td>New York</td>
                            <td>Laptop</td>
                            <td>$1200</td>
                        </tr>
                        <tr>
                            <td>1002</td>
                            <td>John Smith</td>
                            <td>john@email.com</td>
                            <td>New York</td>
                            <td>Mouse</td>
                            <td>$25</td>
                        </tr>
                        <tr>
                            <td>1003</td>
                            <td>John Smith</td>
                            <td>john@email.com</td>
                            <td>New York</td>
                            <td>Keyboard</td>
                            <td>$75</td>
                        </tr>
                    </tbody>
                </table>
                <p style="margin-top: 10px; color: #dc3545;"><strong>Problems:</strong> John's details repeated 3 times!
                    If his email changes, need to update 3 rows.</p>
            </div>

            <div class="example-box" style="margin-top: 20px;">
                <h4>‚úÖ Normalized (Good - Separated Tables)</h4>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div>
                        <strong>Orders Table:</strong>
                        <table class="comparison-table" style="font-size: 0.85em; margin-top: 10px;">
                            <thead>
                                <tr>
                                    <th>OrderID</th>
                                    <th>CustomerID</th>
                                    <th>Product</th>
                                    <th>Amount</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>1001</td>
                                    <td>C01</td>
                                    <td>Laptop</td>
                                    <td>$1200</td>
                                </tr>
                                <tr>
                                    <td>1002</td>
                                    <td>C01</td>
                                    <td>Mouse</td>
                                    <td>$25</td>
                                </tr>
                                <tr>
                                    <td>1003</td>
                                    <td>C01</td>
                                    <td>Keyboard</td>
                                    <td>$75</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                        <strong>Customers Table:</strong>
                        <table class="comparison-table" style="font-size: 0.85em; margin-top: 10px;">
                            <thead>
                                <tr>
                                    <th>CustomerID</th>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>City</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>C01</td>
                                    <td>John Smith</td>
                                    <td>john@email.com</td>
                                    <td>New York</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <p style="margin-top: 10px; color: #28a745;"><strong>Benefits:</strong> John's details stored once!
                    Update in one place affects all orders.</p>

                <div class="practical-task" style="margin-top: 30px;">
                    <div class="task-header">
                        <div class="task-number">üîÑ</div>
                        <h3 style="margin: 0;">Step-by-Step: From Denormalized to Normalized</h3>
                    </div>
                    <div class="steps">
                        <h4 style="color: #4facfe; margin-bottom: 10px;">PART 1: CREATE DimCustomer</h4>
                        <ol>
                            <li><strong>Duplicate table:</strong> Right-click original table ‚Üí
                                <strong>Duplicate</strong> ‚Üí Rename to <code>DimCustomer</code>
                            </li>
                            <li><strong>Keep columns:</strong> Select <code>CustomerName</code>,
                                <code>CustomerEmail</code>, <code>CustomerCity</code> (Delete others)
                            </li>
                            <li><strong>Remove duplicates:</strong> Select <code>CustomerEmail</code> ‚Üí Home ‚Üí
                                <strong>Remove Duplicates</strong>
                            </li>
                            <li><strong>Add CustomerID:</strong> Add Column ‚Üí <strong>Index Column</strong> ‚Üí From 1.
                                Rename to <code>CustomerID</code></li>
                            <li><strong>Format CustomerID:</strong> Transform ‚Üí Format ‚Üí <strong>Add Prefix</strong> ‚Üí
                                "C" (Optional: Pad length to 2 for C01)</li>
                            <li><strong>Rename columns:</strong> <code>CustomerName</code> ‚Üí <strong>Name</strong>,
                                <code>CustomerEmail</code> ‚Üí <strong>Email</strong>, <code>CustomerCity</code> ‚Üí
                                <strong>City</strong>
                            </li>
                            <p style="font-size: 0.9em; color: #666; margin-top: 5px;"><em>Structure: CustomerID | Name
                                    | Email | City</em></p>
                        </ol>

                        <h4 style="color: #4facfe; margin: 20px 0 10px 0;">PART 2: CREATE FactOrders</h4>
                        <ol start="7">
                            <li><strong>Duplicate ORIGINAL table:</strong> Right-click original ‚Üí
                                <strong>Duplicate</strong> ‚Üí Rename to <code>FactOrders</code>
                            </li>
                            <li><strong>Keep columns:</strong> Select <code>OrderID</code>, <code>CustomerName</code>,
                                <code>Product</code>, <code>Amount</code> (Delete others)
                            </li>
                            <li><strong>Merge CustomerID:</strong> Select FactOrders ‚Üí Home ‚Üí <strong>Merge
                                    Queries</strong>. Second table: <code>DimCustomer</code>. Match:
                                <code>FactOrders[CustomerName]</code> with <code>DimCustomer[Name]</code>. Join: Left
                                Outer.
                            </li>
                            <li><strong>Expand:</strong> Click expand icon in DimCustomer column ‚Üí Select ONLY
                                <code>CustomerID</code>
                            </li>
                            <li><strong>Delete column:</strong> Remove the original <code>CustomerName</code> column.
                            </li>
                            <p style="font-size: 0.9em; color: #666; margin-top: 5px;"><em>Structure: OrderID |
                                    CustomerID | Product | Amount</em></p>
                        </ol>

                        <!-- <h4 style="color: #4facfe; margin: 20px 0 10px 0;">PART 3: MODEL</h4>
                        <ol start="12">
                            <li><strong>Relationship:</strong> Link <code>DimCustomer[CustomerID]</code> ‚Üí
                                <code>FactOrders[CustomerID]</code>. Set as <strong>One-to-Many</strong>, <strong>Single
                                    direction</strong>, and <strong>Active</strong>.
                            </li>
                        </ol> -->
                    </div>
                </div>
            </div>

            <div class="download-section"
                style="background: #e7f6ff; border: 2px solid #4facfe; color: #333; box-shadow: 0 4px 15px rgba(0,0,0,0.05); margin: 30px 0;">
                <h3 style="color: #4facfe; margin-bottom: 10px;">üì• Practice Normalization</h3>
                <p>Download the denormalized sample to practice the 12 steps above, or get the final normalized tables.
                </p>
                <div style="margin-top: 15px;">
                    <button class="download-btn" onclick="generateDenormalizedData()"
                        style="background: #666; color: white;">
                        üì• Download Denormalized (Start)
                    </button>
                    <!-- <button class="download-btn" onclick="generateNormalizedData()"
                        style="background: #28a745; color: white;">
                        üì• Download Normalized (Final)
                    </button> -->
                </div>
            </div>

            <div class="important">
                <strong>‚ö†Ô∏è Power BI Best Practice:</strong> Normalize your dimension tables, but keep fact tables
                slightly denormalized for performance. This is called "dimensional modeling."
            </div>

            <h3>The Three Normal Forms (Simplified)</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>1NF - First Normal Form</h4>
                    <p><strong>Rule:</strong> Each cell contains a single value (no lists)</p>
                    <p style="margin-top: 10px;"><strong>Example:</strong></p>
                    <p>‚ùå Products: "Laptop, Mouse, Keyboard"</p>
                    <p>‚úÖ Separate rows for each product</p>
                </div>

                <div class="feature-card">
                    <h4>2NF - Second Normal Form</h4>
                    <p><strong>Rule:</strong> Must be in 1NF + all non-key columns depend on the primary key</p>
                    <p style="margin-top: 10px;"><strong>Example:</strong></p>
                    <p>‚ùå Storing customer city in Orders table</p>
                    <p>‚úÖ Store customer city in Customers table</p>
                </div>

                <div class="feature-card">
                    <h4>3NF - Third Normal Form</h4>
                    <p><strong>Rule:</strong> Must be in 2NF + no transitive dependencies</p>
                    <p style="margin-top: 10px;"><strong>Example:</strong></p>
                    <p>‚ùå Storing both CategoryID and CategoryName in Product</p>
                    <p>‚úÖ Create separate Category table</p>
                </div>
            </div>

            <div class="note">
                <strong>üìù For Power BI:</strong> Aim for 3NF in dimension tables, but don't stress too much. Practical
                usability beats perfect normalization!
            </div>
        </div>

        <!-- Relationships Section -->
        <div class="content-section" id="relationships">
            <h2>üîó Creating & Managing Table Relationships</h2>

            <h3>What Are Relationships?</h3>
            <div class="theory-box">
                <p><strong>Relationships:</strong> Connections between tables based on matching columns (keys).</p>

                <p style="margin-top: 15px;"><strong>Why use relationships instead of merging?</strong></p>
                <ul>
                    <li>‚úÖ No data duplication</li>
                    <li>‚úÖ Smaller file size</li>
                    <li>‚úÖ Faster performance</li>
                    <li>‚úÖ Easier maintenance</li>
                    <li>‚úÖ Dynamic filtering</li>
                    <li>‚úÖ Can use same dimension multiple times</li>
                </ul>
            </div>

            <h3>How to Create Relationships</h3>
            <div class="practical-task">
                <div class="task-header">
                    <div class="task-number">1</div>
                    <h3 style="margin: 0;">Method 1: Drag and Drop (Easiest)</h3>
                </div>
                <div class="steps">
                    <ol>
                        <li>Go to <strong>Model View</strong></li>
                        <li>Find the key column in your fact table (e.g., ProductKey)</li>
                        <li>Click and drag from that column to the matching column in dimension table (e.g., ProductKey
                            in Products table)</li>
                        <li>Release - relationship is created!</li>
                        <li>A line appears connecting the tables</li>
                    </ol>
                </div>
            </div>

            <div class="practical-task">
                <div class="task-header">
                    <div class="task-number">2</div>
                    <h3 style="margin: 0;">Method 2: Manage Relationships Dialog</h3>
                </div>
                <div class="steps">
                    <ol>
                        <li>Go to <strong>Home</strong> tab ‚Üí <strong>Manage Relationships</strong></li>
                        <li>Click <strong>New</strong></li>
                        <li>Select first table and column</li>
                        <li>Select second table and column</li>
                        <li>Choose cardinality (Power BI auto-detects)</li>
                        <li>Set cross filter direction</li>
                        <li>Click OK</li>
                    </ol>
                </div>
            </div>

            <h3>Editing Relationships</h3>
            <div class="practical-task">
                <div class="task-header">
                    <div class="task-number">‚úèÔ∏è</div>
                    <h3 style="margin: 0;">How to Edit a Relationship</h3>
                </div>
                <div class="steps">
                    <p><strong>In Model View:</strong></p>
                    <ul>
                        <li>Double-click the relationship line</li>
                        <li>Or right-click the line ‚Üí Properties</li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>In Manage Relationships:</strong></p>
                    <ul>
                        <li>Select the relationship</li>
                        <li>Click Edit</li>
                    </ul>

                    <p style="margin-top: 15px;"><strong>You can change:</strong></p>
                    <ul>
                        <li>Cardinality (1:*, 1:1, etc.)</li>
                        <li>Cross filter direction (Single or Both)</li>
                        <li>Make relationship Active or Inactive</li>
                    </ul>
                </div>
            </div>

            <div class="practical-task" style="margin-top: 40px; border: 2px solid #3a8cd9; background: #f0f7ff;">
                <div class="task-header">
                    <div class="task-number" style="background: #3a8cd9;">üöÄ</div>
                    <h3 style="margin: 0; color: #3a8cd9;">DATASET FOR RELATIONSHIP PRACTICE</h3>
                </div>
                <div class="steps">
                    <p>Use these 5 tables to build a complete <strong>Star Schema</strong> in Power BI. Each table
                        represents a different aspect of the business.</p>

                    <div class="feature-grid" style="margin-top: 20px;">
                        <div class="feature-card" style="border-left: 4px solid #ff4b2b;">
                            <h4 style="color: #ff4b2b;">üü• TABLE 1: Sales (FACT)</h4>
                            <p style="font-size: 0.85em;">Stores transactions, quantities, and amounts. Connects all
                                dimensions.</p>
                        </div>
                        <div class="feature-card" style="border-left: 4px solid #4facfe;">
                            <h4 style="color: #4facfe;">üü¶ TABLE 2: Customer (DIM)</h4>
                            <p style="font-size: 0.85em;">Descriptive data for customers (Name, Email, City, etc.).</p>
                        </div>
                        <div class="feature-card" style="border-left: 4px solid #00b09b;">
                            <h4 style="color: #00b09b;">üü© TABLE 3: Product (DIM)</h4>
                            <p style="font-size: 0.85em;">Product details (Category, SubCategory, Brand).</p>
                        </div>
                        <div class="feature-card" style="border-left: 4px solid #ffd200;">
                            <h4 style="color: #ffd200;">üü® TABLE 4: Date (DIM)</h4>
                            <p style="font-size: 0.85em;">Time-based attributes (Year, Quarter, MonthName).</p>
                        </div>
                        <div class="feature-card" style="border-left: 4px solid #9d50bb;">
                            <h4 style="color: #9d50bb;">üü™ TABLE 5: Store (DIM)</h4>
                            <p style="font-size: 0.85em;">Store locations and types (Retail vs Online).</p>
                        </div>
                    </div>

                    <div style="text-align: center; margin-top: 30px;">
                        <button class="download-btn" onclick="generateAllRelationshipData()"
                            style="background: #3a8cd9; color: white; padding: 15px 40px;">
                            üì• Download All 5 Practice Tables (.zip/CSV)
                        </button>
                    </div>

                    <h4 style="margin-top: 40px; color: #333;">üß† Relationship Mapping (Keys)</h4>
                    <div class="note" style="background: #f8f9fa; border-left-color: #333;">
                        <ul style="list-style: none; padding-left: 0;">
                            <li>üîó <code>Sales.CustomerID</code> &rarr; <code>Customer.CustomerID</code></li>
                            <li>üîó <code>Sales.ProductID</code> &rarr; <code>Product.ProductID</code></li>
                            <li>üîó <code>Sales.DateKey</code> &rarr; <code>Date.DateKey</code></li>
                            <li>üîó <code>Sales.StoreID</code> &rarr; <code>Store.StoreID</code></li>
                        </ul>
                    </div>

                    <h4 style="margin-top: 30px; color: #3a8cd9;">üõ†Ô∏è Lab Step-by-Step</h4>
                    <ol>
                        <li><strong>Load Data:</strong> Import all 5 CSV files into Power BI Desktop.</li>
                        <li><strong>Go to Model View:</strong> Click the relationship icon on the left sidebar.</li>
                        <li><strong>Arrange Tables:</strong> Place the <strong>Sales</strong> table in the center and
                            the 4 dimension tables around it (Star shape).</li>
                        <li><strong>Create Connections:</strong> Drag the primary key from each dimension table to its
                            matching foreign key in the Sales table.</li>
                        <li><strong>Verify:</strong> Ensure the lines show <strong>1</strong> on the dimension side and
                            <strong>*</strong> on the Sales side.
                        </li>
                    </ol>
                </div>
            </div>

            <h3>Deleting Relationships</h3>
            <div class="steps">
                <ul>
                    <li><strong>Model View:</strong> Select relationship line ‚Üí Press Delete key</li>
                    <li><strong>Manage Relationships:</strong> Select relationship ‚Üí Click Delete</li>
                </ul>
            </div>

            <div class="warning">
                <strong>‚ö†Ô∏è Warning:</strong> Deleting a relationship can break DAX measures and visuals that depend on
                it. Always check before deleting!
            </div>

            <h3>Active vs Inactive Relationships</h3>
            <div class="theory-box">
                <p><strong>Active Relationship:</strong> Shown as solid line, filters flow automatically</p>
                <p><strong>Inactive Relationship:</strong> Shown as dotted line, only works with USERELATIONSHIP()
                    function in DAX</p>

                <p style="margin-top: 15px;"><strong>When to use inactive relationships:</strong></p>
                <ul>
                    <li>Multiple date relationships (OrderDate, ShipDate, DueDate)</li>
                    <li>Role-playing dimensions</li>
                    <li>Alternative calculation paths</li>
                </ul>

                <p style="margin-top: 15px;"><strong>Rule:</strong> Only ONE active relationship allowed between two
                    tables</p>
            </div>

            <div class="example-box">
                <h4>Example: Orders with Multiple Dates</h4>
                <p>Sales table has: OrderDate, ShipDate, PaymentDate</p>
                <p>Date table has: DateKey</p>

                <p style="margin-top: 15px;"><strong>Solution:</strong></p>
                <ul>
                    <li>Active: Sales[OrderDate] ‚Üí Date[DateKey]</li>
                    <li>Inactive: Sales[ShipDate] ‚Üí Date[DateKey]</li>
                    <li>Inactive: Sales[PaymentDate] ‚Üí Date[DateKey]</li>
                </ul>

                <p style="margin-top: 10px;">Use DAX USERELATIONSHIP() to activate others when needed</p>
            </div>
        </div>

        <!-- Cardinality Section -->
        <div class="content-section" id="cardinality">
            <h2>üî¢ Relationship Cardinality: Defining the Connection</h2>

            <div class="theory-box">
                <p><strong>Cardinality</strong> describes the "grain" or "density" of the relationship. It tells Power
                    BI how many rows on one side match with how many rows on the other.</p>
            </div>

            <div class="practical-task" style="border-left-color: #ffd200; background: #fffdf5;">
                <div class="task-header">
                    <div class="task-number" style="background: #ffd200;">üîç</div>
                    <h3 style="margin: 0; color: #856404;">Lab Walkthrough: Cardinality in our Star Schema</h3>
                </div>

                <h4 style="margin-top: 20px;">1. One-to-Many (1:*) - The Gold Standard</h4>
                <p>In our practice dataset, compare the **Customer** table and the **Sales** table:</p>
                <div class="cardinality-example">
                    <div class="table-visual" style="border-color: #4facfe;">
                        <h4>DimCustomer</h4>
                        <p style="font-size: 0.85em;"><strong>CustomerID C01</strong></p>
                        <p style="font-size: 0.8em; color: #666;">(Appears only 1 time)</p>
                    </div>
                    <div style="font-size: 2em; color: #4facfe;">1 ‚ü∂ *</div>
                    <div class="table-visual" style="border-color: #ff4b2b;">
                        <h4>FactSales</h4>
                        <p style="font-size: 0.85em;"><strong>CustomerID C01</strong></p>
                        <p style="font-size: 0.8em; color: #666;">(Appears in 5 different orders)</p>
                    </div>
                </div>
                <ul style="margin-top: 15px;">
                    <li><strong>Grain:</strong> One Customer can make multiple purchases (Many Sales).</li>
                    <li><strong>Identifier:</strong> CustomerID is the "glue" connecting them.</li>
                    <li><strong>Visual:</strong> You will see a <strong>1</strong> next to Customer and a
                        <strong>*</strong> next to Sales.
                    </li>
                </ul>

                <h4 style="margin-top: 30px;">2. One-to-One (1:1) - The Specific Case</h4>
                <p>Imagine a separate table called **StoreDetails**. If every StoreID in the Store table had exactly one
                    corresponding row in StoreDetails:</p>
                <div class="cardinality-example">
                    <div class="table-visual" style="border-color: #9d50bb;">
                        <h4>DimStore</h4>
                        <p style="font-size: 0.85em;"><strong>StoreID S01</strong></p>
                    </div>
                    <div style="font-size: 2em; color: #ffc107;">1 ‚ü∑ 1</div>
                    <div class="table-visual" style="border-color: #9d50bb;">
                        <h4>StoreDetails</h4>
                        <p style="font-size: 0.85em;"><strong>StoreID S01</strong></p>
                    </div>
                </div>
                <div class="tip" style="margin-top: 10px;">
                    <strong>üí° Pro Tip:</strong> If you see a 1:1, usually you should merge these two tables into one in
                    Power Query to keep things simple!
                </div>

                <h4 style="margin-top: 30px;">3. Many-to-Many (*:*) - The Complex Case</h4>
                <p>Consider a relationship between **Students** and **Courses** (where one student takes many courses
                    and one course has many students).</p>
                <div class="cardinality-example">
                    <div class="table-visual">
                        <h4>Students</h4>
                        <p style="font-size: 0.8em; color: #666;">Multiple Rows</p>
                    </div>
                    <div style="font-size: 2em; color: #dc3545;">* ‚ü∑ *</div>
                    <div class="table-visual">
                        <h4>Courses</h4>
                        <p style="font-size: 0.8em; color: #666;">Multiple Rows</p>
                    </div>
                </div>
                <div class="warning">
                    <strong>‚ö†Ô∏è Caution:</strong> Power BI supports this, but it often leads to confusing results. It is
                    best practice to use a <strong>Bridge Table</strong> (like an "Enrollment" table) to convert this
                    into two One-to-Many relationships.
                </div>
            </div>

            <h3 style="margin-top: 40px;">‚úÖ Identification Checklist</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>How to check your Lab tables:</h4>
                    <ul>
                        <li>Open the <strong>Data View</strong> (left icon).</li>
                        <li>Select <strong>DimProduct</strong>. Notice ProductID is unique.</li>
                        <li>Select <strong>FactSales</strong>. Notice ProductID repeats.</li>
                        <li><strong>Conclusion:</strong> Relationship must be 1:* from Product to Sales.</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Filter Flow Section -->
        <div class="content-section" id="filterflow">
            <h2>üåä Understanding Filter Flow (Cross-Filtering)</h2>

            <div class="theory-box">
                <p><strong>Filter Flow</strong> is the direction in which filtering actions travel from one table to
                    another through your relationships.</p>
            </div>

            <div class="filter-flow">
                <h4 style="color: #4facfe; margin-bottom: 15px;">Two Types of Cross Filter Direction:</h4>

                <div class="feature-grid">
                    <div class="feature-card" style="border-left: 4px solid #28a745;">
                        <h4>1. Single Direction (Default)</h4>
                        <p><strong>Flow:</strong> From ONE side ‚Üí MANY side</p>
                        <p style="margin-top: 10px;"><strong>Practice Lab Example:</strong></p>
                        <p><code>DimProduct</code> &rarr; <code>FactSales</code></p>
                        <p style="font-size: 0.9em; margin-top: 10px;">Filtering a Category in
                            <strong>DimProduct</strong> filters the revenue in <strong>FactSales</strong>.
                        </p>
                        <p style="font-size: 0.9em; color: #666;">But clicking a sale in FactSales does NOT filter the
                            list of products.</p>
                        <p style="margin-top: 10px;"><strong>‚úÖ Requirement: 1:* Relationships</strong></p>
                    </div>

                    <div class="feature-card" style="border-left: 4px solid #ffc107;">
                        <h4>2. Both Directions (Bi-directional)</h4>
                        <p><strong>Flow:</strong> ONE &harr; MANY (Bidirectional)</p>
                        <p style="margin-top: 10px;"><strong>Practice Lab Example:</strong></p>
                        <p><code>DimStore</code> &harr; <code>FactSales</code></p>
                        <p style="font-size: 0.9em; margin-top: 10px;">Filtering a Store filters its Sales.</p>
                        <p style="font-size: 0.9em;"><strong>AND</strong> filtering for high-value sales filters the
                            list of Stores to only those that made them.</p>
                        <p style="margin-top: 10px; color: #d63384;"><strong>‚ö†Ô∏è Warning: Use sparingly!</strong></p>
                    </div>
                </div>
            </div>

            <div class="practical-task" style="border-left-color: #00b09b; background: #f0fff4; margin-top: 30px;">
                <div class="task-header">
                    <div class="task-number" style="background: #00b09b;">üß™</div>
                    <h3 style="margin: 0; color: #006b5f;">Testing Filter Flow in our Lab</h3>
                </div>
                <div class="steps">
                    <p>Imagine your Star Schema is ready. Here is how filters propagate:</p>
                    <ol>
                        <li><strong>Select CustomName 'John Smith'</strong> in a slicer.</li>
                        <li>The filter travels from <code>DimCustomer</code> &rarr; <code>FactSales</code>.</li>
                        <li>Power BI identifies <strong>CustomerID C01</strong>.</li>
                        <li>It filters <code>FactSales</code> to show ONLY orders O1001 and O1004.</li>
                        <li>Your 'Total Sales' card updates instantly. ‚úÖ</li>
                    </ol>
                </div>
            </div>

            <div class="important" style="margin-top: 30px;">
                <strong>üí° The "Water Flow" Analogy:</strong>
                <p style="margin-top: 10px;">Think of filters like water flowing through pipes (relationships). In a
                    <strong>Single Direction</strong>, water only flows downhill from the Dimension (One) to the Fact
                    (Many). It cannot flow back up unless you change the cross-filter direction to
                    <strong>Both</strong>.
                </p>
            </div>

            <div class="note">
                <strong>üìù Best Practice:</strong> Always stick to <strong>Single Direction</strong> for your Star
                Schema. Only use "Both" if you have a specific requirement like filtering slicers based on actual
                transaction data.
            </div>
        </div>

        <!-- Practical Lab Section -->
        <div class="content-section" id="practical">
            <h2>üî® Practical Lab: Building a Data Model</h2>

            <div class="important">
                <strong>‚è±Ô∏è Lab Duration:</strong> 90 minutes<br>
                <strong>üéØ Objective:</strong> Build a complete star schema with proper relationships using 5 tables.
            </div>

            <h3>Lab Scenario: Global Retail Sales Analysis</h3>
            <div class="theory-box">
                <p><strong>You have 5 practice tables:</strong></p>
                <ul>
                    <li><strong>FactSales</strong> (Fact) - Transactions, Quantity, Sale Amount</li>
                    <li><strong>DimCustomer</strong> (Dimension) - Names, Emails, Locations</li>
                    <li><strong>DimProduct</strong> (Dimension) - Categories and Brands</li>
                    <li><strong>DimDate</strong> (Dimension) - Calendar attributes</li>
                    <li><strong>DimStore</strong> (Dimension) - Physical vs Online stores</li>
                </ul>
                <p style="margin-top: 10px;"><strong>Goal:</strong> Create a star schema where all dimensions filter the
                    central Sales table.</p>
            </div>

            <h3>Exercise 1: Load the Data (15 minutes)</h3>
            <div class="practical-task">
                <div class="task-header">
                    <div class="task-number">1</div>
                    <h3 style="margin: 0;">Import All 5 Tables</h3>
                </div>
                <div class="steps">
                    <ol>
                        <li>Go to the <strong>Resources</strong> section below and click "Download All 5 Practice
                            Tables".</li>
                        <li>Open Power BI Desktop.</li>
                        <li>Get Data &rarr; CSV.</li>
                        <li>Import all 5 files:
                            <ul>
                                <li><code>Sales_Fact.csv</code></li>
                                <li><code>Customer_Dim.csv</code></li>
                                <li><code>Product_Dim.csv</code></li>
                                <li><code>Date_Dim.csv</code></li>
                                <li><code>Store_Dim.csv</code></li>
                            </ul>
                        </li>
                        <li>Check data types in Power Query and click <strong>Close & Apply</strong>.</li>
                    </ol>
                </div>
            </div>

            <h3>Exercise 2: Create Relationships (20 minutes)</h3>
            <div class="practical-task">
                <div class="task-header">
                    <div class="task-number">2</div>
                    <h3 style="margin: 0;">Build the Star Schema</h3>
                </div>
                <div class="steps">
                    <ol>
                        <li>Switch to <strong>Model View</strong>.</li>
                        <li>Place <code>FactSales</code> in the center.</li>
                        <li>Arrange the 4 Dimension tables around it in a Star pattern.</li>
                        <li>Create the 1:* connections:
                            <ul>
                                <li><code>Customer_Dim[CustomerID]</code> &rarr; <code>Sales_Fact[CustomerID]</code>
                                </li>
                                <li><code>Product_Dim[ProductID]</code> &rarr; <code>Sales_Fact[ProductID]</code></li>
                                <li><code>Date_Dim[DateKey]</code> &rarr; <code>Sales_Fact[DateKey]</code></li>
                                <li><code>Store_Dim[StoreID]</code> &rarr; <code>Sales_Fact[StoreID]</code></li>
                            </ul>
                        </li>
                        <li>Verify that all lines show <strong>1</strong> (Dimension side) and <strong>*</strong> (Fact
                            side).</li>
                    </ol>
                </div>
            </div>

            <h3>Exercise 3: Configure Properties (15 minutes)</h3>
            <div class="practical-task">
                <div class="task-header">
                    <div class="task-number">3</div>
                    <h3 style="margin: 0;">Optimize the Model</h3>
                </div>
                <div class="steps">
                    <ol>
                        <li><strong>Hide Key Columns:</strong>
                            <ul>
                                <li>In Sales table: Hide DateKey, ProductKey, CustomerKey</li>
                                <li>In dimension tables: Hide the key columns</li>
                                <li>Right-click ‚Üí Hide in report view</li>
                            </ul>
                        </li>
                        <li><strong>Mark Date Table:</strong>
                            <ul>
                                <li>Select Date table</li>
                                <li>Table tools ‚Üí Mark as date table</li>
                                <li>Choose Date column</li>
                            </ul>
                        </li>
                        <li><strong>Set Data Categories:</strong>
                            <ul>
                                <li>Customers[City] ‚Üí City</li>
                                <li>Customers[Country] ‚Üí Country</li>
                            </ul>
                        </li>
                        <li><strong>Format Measures:</strong>
                            <ul>
                                <li>Sales[Revenue] ‚Üí Currency</li>
                                <li>Sales[Quantity] ‚Üí Whole Number</li>
                            </ul>
                        </li>
                    </ol>
                </div>
            </div>

            <h3>Exercise 4: Test Relationships (20 minutes)</h3>
            <div class="practical-task">
                <div class="task-header">
                    <div class="task-number">4</div>
                    <h3 style="margin: 0;">Verify Filter Flow</h3>
                </div>
                <div class="steps">
                    <ol>
                        <li>Go to <strong>Report View</strong></li>
                        <li>Create test visuals:
                            <ul>
                                <li>Slicer with Date[Year]</li>
                                <li>Slicer with Products[Category]</li>
                                <li>Table with Sales data</li>
                                <li>Card showing SUM of Revenue</li>
                            </ul>
                        </li>
                        <li>Test filtering:
                            <ul>
                                <li>Select a year ‚Üí Does sales table filter? ‚úì</li>
                                <li>Select a category ‚Üí Does sales table filter? ‚úì</li>
                                <li>Select both ‚Üí Do filters combine? ‚úì</li>
                            </ul>
                        </li>
                        <li>Create a matrix:
                            <ul>
                                <li>Rows: Products[Category]</li>
                                <li>Columns: Date[Year]</li>
                                <li>Values: SUM(Sales[Revenue])</li>
                                <li>Verify numbers make sense</li>
                            </ul>
                        </li>
                    </ol>
                </div>
            </div>

            <h3>Exercise 5: Add Hierarchies (20 minutes)</h3>
            <div class="practical-task">
                <div class="task-header">
                    <div class="task-number">5</div>
                    <h3 style="margin: 0;">Create Drill-Down Hierarchies</h3>
                </div>
                <div class="steps">
                    <ol>
                        <li><strong>Date Hierarchy:</strong>
                            <ul>
                                <li>In Model or Data View</li>
                                <li>Right-click Date[Year] ‚Üí Create hierarchy</li>
                                <li>Rename to "Date Hierarchy"</li>
                                <li>Drag Month into hierarchy</li>
                                <li>Drag Day (if exists)</li>
                            </ul>
                        </li>
                        <li><strong>Geography Hierarchy:</strong>
                            <ul>
                                <li>Right-click Customers[Country] ‚Üí Create hierarchy</li>
                                <li>Name it "Geography"</li>
                                <li>Add City to hierarchy</li>
                            </ul>
                        </li>
                        <li><strong>Test hierarchies:</strong>
                            <ul>
                                <li>Create a bar chart</li>
                                <li>Use Date Hierarchy on axis</li>
                                <li>Use drill-down buttons to navigate</li>
                            </ul>
                        </li>
                    </ol>
                </div>
            </div>

            <div class="important" style="margin-top: 30px;">
                <strong>üéâ Lab Complete!</strong> You have successfully:
                <ul style="margin-top: 10px;">
                    <li>‚úÖ Loaded multiple related tables</li>
                    <li>‚úÖ Created a star schema data model</li>
                    <li>‚úÖ relationships</li>
                    <li>‚úÖ Hidden technical fields</li>
                    <li>‚úÖ Tested filter flow</li>
                    <li>‚úÖ Created hierarchies for drill-down</li>
                </ul>
            </div>
        </div>
        <!-- Tasks Section -->
        <div class="content-section" id="tasks">
            <h2>‚úÖ Practice Tasks & Homework</h2>

            <h3>Task 1: Model Analysis</h3>
            <div class="practical-task">
                <div class="task-header">
                    <div class="task-number">üîç</div>
                    <h3 style="margin: 0;">Analyze an Existing Model</h3>
                </div>
                <div class="steps">
                    <p><strong>Assignment:</strong></p>
                    <ol>
                        <li>Open a Power BI sample report (from Microsoft)</li>
                        <li>Go to Model View</li>
                        <li>Identify:
                            <ul>
                                <li>Which tables are fact tables?</li>
                                <li>Which are dimension tables?</li>
                                <li>What relationships exist?</li>
                                <li>What is the cardinality of each?</li>
                                <li>Are there any inactive relationships?</li>
                            </ul>
                        </li>
                        <li>Document your findings</li>
                    </ol>
                </div>
            </div>

            <h3>Task 2: Design Challenge</h3>
            <div class="practical-task">
                <div class="task-header">
                    <div class="task-number">üìê</div>
                    <h3 style="margin: 0;">Design a Data Model from Scratch</h3>
                </div>
                <div class="steps">
                    <p><strong>Scenario: University Student System</strong></p>
                    <p>Design a data model that tracks:</p>
                    <ul>
                        <li>Students (ID, Name, Major, EnrollmentDate)</li>
                        <li>Courses (ID, Name, Department, Credits)</li>
                        <li>Enrollments (StudentID, CourseID, Semester, Grade)</li>
                        <li>Instructors (ID, Name, Department)</li>
                        <li>Course Assignments (CourseID, InstructorID, Semester)</li>
                    </ul>
                    <p style="margin-top: 15px;"><strong>Your task:</strong></p>
                    <ol>
                        <li>Draw the data model on paper</li>
                        <li>Identify fact and dimension tables</li>
                        <li>Define all relationships</li>
                        <li>Specify cardinality for each</li>
                        <li>Present on Day 6</li>
                    </ol>
                </div>
            </div>

            <h3>Task 3: Quiz</h3>
            <div class="theory-box">
                <p><strong>Answer these questions:</strong></p>
                <ol>
                    <li>What's the difference between a fact table and a dimension table?</li>
                    <li>Why is star schema preferred over denormalized flat tables?</li>
                    <li>What does 1:* cardinality mean?</li>
                    <li>In what direction do filters flow by default?</li>
                    <li>When should you use bi-directional filtering?</li>
                    <li>Can you have multiple active relationships between two tables?</li>
                    <li>Why should you hide foreign key columns?</li>
                    <li>What's the purpose of marking a table as a date table?</li>
                </ol>
            </div>

            <h3>Task 4: Best Practices Checklist</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>‚úÖ Data Model Checklist</h4>
                    <ul style="font-size: 0.9em;">
                        <li>‚òê Star schema implemented</li>
                        <li>‚òê All relationships are 1:*</li>
                        <li>‚òê Single direction filtering (mostly)</li>
                        <li>‚òê Foreign keys hidden</li>
                        <li>‚òê Date table marked</li>
                        <li>‚òê Hierarchies created</li>
                        <li>‚òê Data types correct</li>
                        <li>‚òê No circular dependencies</li>
                        <li>‚òê Filter flow tested</li>
                        <li>‚òê Minimal data duplication</li>
                    </ul>
                </div>

                <div class="feature-card">
                    <h4>‚ùå Common Mistakes to Avoid</h4>
                    <ul style="font-size: 0.9em;">
                        <li>‚úó Flat, denormalized tables</li>
                        <li>‚úó Many-to-many without bridge</li>
                        <li>‚úó Bi-directional everywhere</li>
                        <li>‚úó Circular relationships</li>
                        <li>‚úó Multiple active relationships</li>
                        <li>‚úó No date table</li>
                        <li>‚úó Incorrect cardinality</li>
                        <li>‚úó Exposing technical keys</li>
                        <li>‚úó Not testing filter flow</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Resources Section -->
        <div class="content-section" id="resources">
            <h2>üì¶ Resources & Downloads</h2>

            <div class="download-section">
                <h3>üì• Practice Files for Day 5</h3>
                <p>Download the sample datasets for today's lab</p>
                <button class="download-btn" onclick="generateSalesData()">üìä Download Sales.csv</button>
                <button class="download-btn" onclick="generateDateData()">üìÖ Download Date.csv</button>
                <button class="download-btn" onclick="generateProductData()">üì¶ Download Products.csv</button>
                <button class="download-btn" onclick="generateCustomerData()">üë• Download Customers.csv</button>
                <button class="download-btn" onclick="generateNormalizedData()"
                    style="background: white; color: #28a745; border: 2px solid #28a745;">üìê Download
                    Normalized_Data.zip</button>
            </div>

            <h3>üìö Recommended Reading</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4>üìñ Books</h4>
                    <ul>
                        <li>"The Definitive Guide to DAX" - Russo & Ferrari (Chapter on data modeling)</li>
                        <li>"Star Schema: The Complete Reference" - Christopher Adamson</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>üé• Videos</h4>
                    <ul>
                        <li>SQLBI - Star Schema Design</li>
                        <li>Guy in a Cube - Relationships Best Practices</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h4>üîó Articles</h4>
                    <ul>
                        <li>Microsoft Docs - Model relationships</li>
                        <li>SQLBI.com - Data modeling articles</li>
                    </ul>
                </div>
            </div>

            <h3>üéØ Day 6 Preview</h3>
            <div class="note">
                <strong>üìÖ Coming Tomorrow: Introduction to DAX</strong>
                <p style="margin-top: 10px;">Topics we'll cover:</p>
                <ul>
                    <li>What is DAX and why we need it</li>
                    <li>Calculated Columns vs Measures</li>
                    <li>DAX syntax and operators</li>
                    <li>Basic DAX functions (SUM, AVERAGE, COUNT)</li>
                    <li>Implicit vs Explicit measures</li>
                    <li>Step-by-step measure calculations</li>
                </ul>
                <p style="margin-top: 10px;"><strong>Preparation:</strong> Make sure your Day 5 data model is working
                    perfectly!</p>
            </div>
        </div>

        <footer>
            <h3>üéâ Congratulations! You're Halfway Through!</h3>
            <p>You've mastered data modeling ‚Äî the foundation of all great Power BI reports!</p>
            <p style="margin-top: 10px; color: #666;">
                <strong>Practice Tip:</strong> Remember the Star Schema: Dimensions on the outside, Fact table in the
                center. It makes DAX much easier!
            </p>
            <div style="margin-top: 30px;">
                <a href="Day4.html" class="next-day-btn"
                    style="background: #666; text-decoration: none; padding: 15px 30px; margin-right: 15px;">‚Üê Back to
                    Day 4</a>
                <a style="text-decoration: none;">
                    <button class="next-day-btn" onclick="alert('Day 6 is not available yet!')">
                        Continue to Day 6 ‚Üí
                    </button>
                </a>
            </div>
            <p style="margin-top: 20px; font-size: 0.9em; color: #999;">
                Created by <strong>Muhammed Rifad KP</strong> | Power BI Training Course | Day 5 of 10 | ¬© 2026
            </p>
        </footer>
    </div>

    <script>
        // Navigation functionality
        const navBtns = document.querySelectorAll('.nav-btn');
        const sections = document.querySelectorAll('.content-section');

        navBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const targetSection = btn.getAttribute('data-section');

                navBtns.forEach(b => b.classList.remove('active'));
                sections.forEach(s => s.classList.remove('active'));

                btn.classList.add('active');
                document.getElementById(targetSection).classList.add('active');

                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        });

        // Generate sample data files
        function generateSalesData() {
            const csv = `SalesID,DateKey,ProductKey,CustomerKey,Quantity,Revenue
        1,20240101,P001,C001,2,2400
2,20240102,P002,C002,10,250
3,20240103,P003,C003,5,375
4,20240104,P001,C001,1,1200
5,20240105,P002,C004,15,375
6,20240106,P003,C002,3,225
7,20240107,P001,C003,1,1200
8,20240108,P002,C001,20,500
9,20240109,P003,C004,7,525
10,20240110,P001,C002,2,2400`;
            downloadCSV(csv, 'Sales.csv');
        }
        function generateDateData() {
            const csv = `DateKey,Date,Year,Month,Quarter,MonthName
        20240101,2024-01-01,2024,1,Q1,January
20240102,2024-01-02,2024,1,Q1,January
20240103,2024-01-03,2024,1,Q1,January
20240104,2024-01-04,2024,1,Q1,January
20240105,2024-01-05,2024,1,Q1,January
20240106,2024-01-06,2024,1,Q1,January
20240107,2024-01-07,2024,1,Q1,January
20240108,2024-01-08,2024,1,Q1,January
20240109,2024-01-09,2024,1,Q1,January
20240110,2024-01-10,2024,1,Q1,January`;
            downloadCSV(csv, 'Date.csv');
        }
        function generateProductData() {
            const csv = `ProductKey,ProductName,Category,UnitPrice
        P001,Laptop Pro,Electronics,1200
P002,Wireless Mouse,Electronics,25
P003,Desk Chair,Furniture,75`;
            downloadCSV(csv, 'Products.csv');
        }
        function generateCustomerData() {
            const csv = `CustomerKey,CustomerName,City,Country
        C001,John Smith,New York,USA
C002,Jane Doe,Los Angeles,USA
C003,Bob Wilson,Chicago,USA
C004,Alice Johnson,Houston,USA`;
            downloadCSV(csv, 'Customers.csv');
        }

        function generateNormalizedData() {
            const customersCsv = `CustomerID,Name,Email,City\nC01,John Smith,john@email.com,New York\nC02,Jane Doe,jane@email.com,Los Angeles\nC03,Bob Wilson,bob@email.com,Chicago`;
            const ordersCsv = `OrderID,CustomerID,Product,Amount\n1001,C01,Laptop,1200\n1002,C01,Mouse,25\n1003,C02,Keyboard,75`;

            // Download multiple files
            downloadCSV(customersCsv, 'Normalized_Customers.csv');
            setTimeout(() => {
                downloadCSV(ordersCsv, 'Normalized_Orders.csv');
            }, 500);
        }

        function generateDenormalizedData() {
            const csv = `OrderID,CustomerName,CustomerEmail,CustomerCity,Product,Amount
1001,John Smith,john@email.com,New York,Laptop,1200
1002,John Smith,john@email.com,New York,Mouse,25
1003,John Smith,john@email.com,New York,Keyboard,75
1004,Emily Brown,emily@email.com,Chicago,Laptop,1150
1005,Emily Brown,emily@email.com,Chicago,Mouse,30
1006,Emily Brown,emily@email.com,Chicago,Headphones,150
1007,Michael Lee,michael@email.com,San Francisco,Tablet,600
1008,Michael Lee,michael@email.com,San Francisco,Keyboard,80
1009,Michael Lee,michael@email.com,San Francisco,Mouse,28
1010,Sophia Wilson,sophia@email.com,Boston,Laptop,1300
1011,Sophia Wilson,sophia@email.com,Boston,Monitor,320
1012,Sophia Wilson,sophia@email.com,Boston,Mouse,35
1013,David Miller,david@email.com,Austin,Laptop,1100
1014,David Miller,david@email.com,Austin,Keyboard,90
1015,David Miller,david@email.com,Austin,Monitor,300
1016,Olivia Johnson,olivia@email.com,Seattle,Tablet,650
1017,Olivia Johnson,olivia@email.com,Seattle,Headphones,180
1018,Olivia Johnson,olivia@email.com,Seattle,Mouse,32
1019,Daniel Clark,daniel@email.com,Denver,Laptop,1250
1020,Daniel Clark,daniel@email.com,Denver,Keyboard,85
1021,Daniel Clark,daniel@email.com,Denver,Monitor,310
1022,Emma Davis,emma@email.com,Miami,Laptop,1180
1023,Emma Davis,emma@email.com,Miami,Mouse,27
1024,Emma Davis,emma@email.com,Miami,Headphones,160
1025,James Anderson,james@email.com,Los Angeles,Tablet,620
1026,James Anderson,james@email.com,Los Angeles,Keyboard,88
1027,James Anderson,james@email.com,Los Angeles,Mouse,29
1028,Isabella Thomas,isabella@email.com,San Diego,Laptop,1220
1029,Isabella Thomas,isabella@email.com,San Diego,Monitor,330
1030,Isabella Thomas,isabella@email.com,San Diego,Mouse,34`;
            downloadCSV(csv, 'Denormalized_Sales_Data.csv');
        }

        function generateAllRelationshipData() {
            const sales = `OrderID,DateKey,CustomerID,ProductID,StoreID,Quantity,SalesAmount
O1001,20230101,C01,P01,S01,2,2400
O1002,20230102,C02,P02,S02,1,25
O1003,20230103,C03,P03,S01,1,75
O1004,20230104,C01,P04,S03,1,1200
O1005,20230105,C04,P05,S02,3,90
O1006,20230106,C05,P01,S04,1,1200
O1007,20230107,C02,P03,S01,2,150
O1008,20230108,C03,P02,S03,4,100
O1009,20230109,C06,P04,S02,1,1200
O1010,20230110,C07,P05,S04,2,60
O1011,20230111,C08,P01,S01,1,1200
O1012,20230112,C09,P02,S02,3,75
O1013,20230113,C10,P03,S03,2,150
O1014,20230114,C04,P04,S04,1,1200
O1015,20230115,C05,P05,S01,5,150`;

            const customers = `CustomerID,CustomerName,Email,City,State,Country
C01,John Smith,john@email.com,New York,NY,USA
C02,Emily Brown,emily@email.com,Chicago,IL,USA
C03,Michael Lee,michael@email.com,San Francisco,CA,USA
C04,Sophia Wilson,sophia@email.com,Boston,MA,USA
C05,David Miller,david@email.com,Austin,TX,USA
C06,Olivia Johnson,olivia@email.com,Seattle,WA,USA
C07,Daniel Clark,daniel@email.com,Denver,CO,USA
C08,Emma Davis,emma@email.com,Miami,FL,USA
C09,James Anderson,james@email.com,Los Angeles,CA,USA
C10,Isabella Thomas,isabella@email.com,San Diego,CA,USA`;

            const products = `ProductID,ProductName,Category,SubCategory,Brand
P01,Laptop,Electronics,Computer,Dell
P02,Mouse,Electronics,Accessory,Logitech
P03,Keyboard,Electronics,Accessory,HP
P04,Monitor,Electronics,Display,Samsung
P05,Headphones,Electronics,Audio,Sony`;

            const dates = `DateKey,Date,Year,Quarter,MonthNumber,MonthName
20230101,2023-01-01,2023,Q1,1,January
20230102,2023-01-02,2023,Q1,1,January
20230103,2023-01-03,2023,Q1,1,January
20230104,2023-01-04,2023,Q1,1,January
20230105,2023-01-05,2023,Q1,1,January
20230106,2023-01-06,2023,Q1,1,January
20230107,2023-01-07,2023,Q1,1,January
20230108,2023-01-08,2023,Q1,1,January
20230109,2023-01-09,2023,Q1,1,January
20230110,2023-01-10,2023,Q1,1,January
20230111,2023-01-11,2023,Q1,1,January
20230112,2023-01-12,2023,Q1,1,January
20230113,2023-01-13,2023,Q1,1,January
20230114,2023-01-14,2023,Q1,1,January
20230115,2023-01-15,2023,Q1,1,January`;

            const stores = `StoreID,StoreName,City,State,Country,StoreType
S01,Store New York,New York,NY,USA,Online
S02,Store Chicago,Chicago,IL,USA,Retail
S03,Store Boston,Boston,MA,USA,Retail
S04,Store Austin,Austin,TX,USA,Online`;

            // Download them sequentially
            downloadCSV(sales, 'Sales_Fact.csv');
            setTimeout(() => downloadCSV(customers, 'Customer_Dim.csv'), 200);
            setTimeout(() => downloadCSV(products, 'Product_Dim.csv'), 400);
            setTimeout(() => downloadCSV(dates, 'Date_Dim.csv'), 600);
            setTimeout(() => downloadCSV(stores, 'Store_Dim.csv'), 800);
        }

        function downloadCSV(content, filename) {
            const blob = new Blob([content], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = filename;
            a.click();
            window.URL.revokeObjectURL(url);
        }
    </script>